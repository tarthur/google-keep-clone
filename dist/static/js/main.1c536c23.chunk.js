(window.webpackJsonpkeep=window.webpackJsonpkeep||[]).push([[0],{101:function(e,t,n){e.exports={logo:"logo_logo__2wzac",logoIcon:"logo_logoIcon__-1f5I",logoName:"logo_logoName__1SeB_"}},102:function(e,t,n){e.exports={notesPanel:"add-notes-panel_notesPanel__2PvZk",notesPanelWrap:"add-notes-panel_notesPanelWrap__3vGxa",img:"add-notes-panel_img__1IMmn"}},103:function(e,t,n){e.exports={img:"picture-preview_img__jZr9U"}},104:function(e,t,n){e.exports={form:"form_form__VbASh",formInput:"form_formInput__20PVr",icon:"form_icon__17ICG"}},105:function(e,t,n){e.exports={spinner:"spinner_spinner__1fUKb",small:"spinner_small__192s5",big:"spinner_big__2ug0x"}},106:function(e,t,n){e.exports={title:"list-note-preview_title__19oMh",lists:"list-note-preview_lists__31e9C",modalTitle:"list-note-preview_modalTitle__3kEWb"}},153:function(e,t,n){e.exports={input:"input-file_input__2UxNG",uploadFile:"input-file_uploadFile__aLu6H"}},154:function(e,t,n){e.exports={fixMark:"fix-mark_fixMark__3VFm9",check:"fix-mark_check__1eyTu"}},155:function(e,t,n){e.exports={textarea:"panel-title_textarea__zDjU0"}},156:function(e,t,n){e.exports={notePanel:"note-panel_notePanel__1t2YI",textarea:"note-panel_textarea__2rSeb"}},157:function(e,t,n){e.exports={listItem:"list-items_listItem__376Lu"}},158:function(e,t,n){e.exports={imgBox:"img-box_imgBox__2xyMy",img:"img-box_img__1mhY4"}},159:function(e,t,n){e.exports={main:"app_main__3o5VZ"}},22:function(e,t,n){e.exports={selectedMark:"note-preview_selectedMark__1dHjp",main:"note-preview_main__2uq4N",paddingTop:"note-preview_paddingTop__1Zijp",paddingBottom:"note-preview_paddingBottom__1ouiZ",NoteBottomPanel:"note-preview_NoteBottomPanel__24Sqr",fixMark:"note-preview_fixMark__2jbx2",notePreview:"note-preview_notePreview__2ljV2",activeNote:"note-preview_activeNote__2AqOA",active:"note-preview_active__136CD",notePreviewWrap:"note-preview_notePreviewWrap__2FN0c",absolute:"note-preview_absolute__mh4cn"}},243:function(e,t,n){e.exports=n.p+"static/media/logo.d12c0d77.png"},244:function(e,t,n){e.exports={clickIcon:"click-icon_clickIcon__2kZmn"}},245:function(e,t,n){e.exports={btn:"btn_btn__15QAj",btn_gray:"btn_btn_gray__3lwGL",btn_block:"btn_btn_block__fEyrw"}},246:function(e,t,n){e.exports={btn:"add-btn_btn__1zID0"}},247:function(e,t,n){},248:function(e,t,n){e.exports={ddd:"modal-box_ddd__2vVTX"}},249:function(e,t,n){e.exports=n.p+"static/media/puff.13f271c7.svg"},25:function(e,t,n){e.exports={chooseColor:"choose-color_chooseColor__I3sn7",title:"choose-color_title__2l2HI",box:"choose-color_box__2SyYQ",positionTopLeft:"choose-color_positionTopLeft__3f0FI",positionBottomLeft:"choose-color_positionBottomLeft__2RU5b",list:"choose-color_list__2opX-",listItem:"choose-color_listItem__8sZiG",mark:"choose-color_mark__2p12M",currentColor:"choose-color_currentColor__1lMYL"}},253:function(e,t,n){e.exports=n(486)},258:function(e,t,n){},27:function(e,t,n){e.exports={bottomPanel:"note-panel-view_bottomPanel__29KVY",bottomPanelBox:"note-panel-view_bottomPanelBox__1rYJA",fixMark:"note-panel-view_fixMark__2gpvP",img:"note-panel-view_img__3FAgV",deleteIcon:"note-panel-view_deleteIcon__3MsXU",pictureBox:"note-panel-view_pictureBox__3p5bR",picturePreview:"note-panel-view_picturePreview__2pPmS",title:"note-panel-view_title__xeoI8",noteBottom:"note-panel-view_noteBottom__czL6B"}},28:function(e,t,n){e.exports={emptyNotesBox:"all-notes_emptyNotesBox__3uzN7",notesList:"all-notes_notesList__2NtRW",npWrap:"all-notes_npWrap__tTnBd",notesListTitle:"all-notes_notesListTitle__MB3wH",fixNotesBox:"all-notes_fixNotesBox__3q5rl"}},34:function(e,t,n){e.exports={deleteIcon:"modal-container_deleteIcon__2vh9k",pictureBox:"modal-container_pictureBox__PWT83",img:"modal-container_img__XEWoW",bottomPanelBox:"modal-container_bottomPanelBox__3ccMY",bottomPanel:"modal-container_bottomPanel__XlKJV",noteWrap:"modal-container_noteWrap__34lo5",date:"modal-container_date__3DHwf",fixMark:"modal-container_fixMark__3mInW",icon:"modal-container_icon__16UJ4",imageBox:"modal-container_imageBox__3zXBJ",btns:"modal-container_btns__13yGI",cancelBtn:"modal-container_cancelBtn__22evz"}},423:function(e,t,n){e.exports={input:"list-note-panel_input__1P2xJ"}},44:function(e,t,n){e.exports={header:"header_header__1c1q6",headerNotice:"header_headerNotice__2J6bA",noticeContainer:"header_noticeContainer__1zsPY",headerNoticeMain:"header_headerNoticeMain__3X45Y",noticeTitle:"header_noticeTitle__1V8CF",main:"header_main__2l3h6"}},45:function(e,t,n){e.exports={noteBottomPanel:"note-bottom-panel_noteBottomPanel__1jQ6k",icon:"note-bottom-panel_icon__1P3QP","choose-color":"note-bottom-panel_choose-color__1mAVn",icon_3:"note-bottom-panel_icon_3__2AHKh",bgColorBox:"note-bottom-panel_bgColorBox__X58Mj"}},46:function(e,t,n){e.exports={listItem:"todo-list-item_listItem__1jPMX",checkbox:"todo-list-item_checkbox__1S2Bp",checkboxMark:"todo-list-item_checkboxMark__1NvYX",input:"todo-list-item_input__2Y7QU",closeBtn:"todo-list-item_closeBtn__2PQAX",active:"todo-list-item_active__1l40O"}},486:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(150),i=n.n(r),c=(n(258),n(19)),s=n(2),l=n(3),p=n(5),u=n(4),m=n(6),d=n(21),f=n(15),h=n(43),g=n(72),v=n.n(g);n(263),n(266),n(487);v.a.initializeApp({apiKey:"AIzaSyAzzRGnQXaBoFF9uJnEXRmWPeg91_wSpMY",authDomain:"keep-be68c.firebaseapp.com",databaseURL:"https://keep-be68c.firebaseio.com",projectId:"keep-be68c",storageBucket:"keep-be68c.appspot.com",messagingSenderId:"1046598729377",appId:"1:1046598729377:web:43bcad6a311acbe1"}),v.a.firestore().settings({timestampsInSnapshots:!0});var b=v.a.storage(),_=function(e,t){var n=e.files[0];if(n){var o=window.URL||window.webkitURL,a=new Image;a.onload=function(){var e=this.width,n=this.height;t(e,n)},a.src=o.createObjectURL(n)}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C={time:+new Date},E={markNotes:[]},x=function(e){return{type:"ADD_MARK_NOTE",payload:e}},j=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage,c=function(e){return(new Date).getTime()+"."+e.name.split(".").pop()}(e);!function(e,t,n,o){e.ref("images/".concat(n)).put(t).on("state_changed",function(e){},function(e){alert(e.message_)},o)}(i,e,c,function(){!function(e,t,n,o,a,r){r.ref("images").child(e).getDownloadURL().then(function(r){P(t,{url:r,imgName:e})(n,o,{getFirestore:a})})}(c,t,n,o,r,i)})}},N=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage,c=k({},C,{},e);r().collection("notes").add(c).then(function(e){var a=e.id;void 0!==t&&j(t,a)(n,o,{getFirestore:r,storage:i})}).catch(function(e){})}},y=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage;e.imgName&&(t.filter(function(t){return t.imgName===e.imgName}).length<2&&w(e,i));r().delete({collection:"notes",doc:e.id})}},w=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage;i.ref("images/".concat(e.imgName)).delete().then(function(){M(e.id,"url")(n,o,{getFirestore:r}),M(e.id,"imgName")(n,o,{getFirestore:r}),M(e.id,"imgHeight")(n,o,{getFirestore:r}),M(e.id,"imgWidth")(n,o,{getFirestore:r}),t()}).catch(function(e){console.log(i)})}},I=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage,c=e.id;w(e,function(){_(t,function(e,a){P(c,{imgWidth:e,imgHeight:a})(n,o,{getFirestore:r}),j(t.files[0],c)(n,o,{getFirestore:r,storage:i})})})(n,o,{getFirestore:r,storage:i})}},P=function(e,t){return function(n,o,a){(0,a.getFirestore)().update({collection:"notes",doc:e},t)}},M=function(e,t){return function(n,o,a){var r=(0,a.getFirestore)().collection("notes").doc(e).update(Object(f.a)({},t,v.a.firestore.FieldValue.delete()));console.log(r)}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_MARKNOTES":case"CLEAR_MARKNOTES":return{markNotes:[]};case"ADD_MARK_NOTE":var n=Object(h.a)(e.markNotes),o=n.slice(0),a=o.findIndex(function(e){return e.id===t.payload.id});return-1===a?o.push(t.payload):(o[a],o.splice(a,1)),console.log(o),k({},e,{markNotes:o});default:return e}},T=n(11),B=n(20),S=n(243),F=n.n(S),L=n(101),A=n.n(L),R=function(){return a.a.createElement("div",{className:A.a.logo},a.a.createElement("div",{className:A.a.logoIcon},a.a.createElement("img",{src:F.a,className:"img-fluid"})),a.a.createElement("div",{className:A.a.logoName},"Keep clone"))},W=n(44),H=n.n(W),U=n(45),V=n.n(U),z=n(25),K=n.n(z),X=n(8),q=n.n(X),Y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isShowList:!1},n.onMouseEnter=function(){n.setState({isShowList:!0})},n.onMouseLeave=function(){n.setState({isShowList:!1})},n.getColors=function(){return["#ffffff","#f28b82","#fbbc04","#fff475","#ccff90","#a7ffeb","#cbf0f8","#aecbfa","#d7aefb","#fdcfe8","#e6c9a8","#e8eaed"].map(function(e,t){var o=e,r=null;return n.props.currentColor===e&&(r=K.a.currentColor),0===t&&(o="#eee"),a.a.createElement("li",{className:q()(K.a.listItem,r),style:{backgroundColor:e,borderColor:o},onClick:function(t){t.stopPropagation(),n.props.getColor(e)}},r&&a.a.createElement("i",{className:q()("fas fa-check",K.a.mark)}))})},n.getList=function(){return n.state.isShowList&&a.a.createElement("div",{className:q()(K.a.box,n.props.position?K.a[n.props.position]:K.a.positionTopLeft)},a.a.createElement("ul",{className:K.a.list},n.getColors()))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:K.a.chooseColor,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.a.createElement("span",{className:K.a.title},a.a.createElement("i",{class:"fas fa-palette"})),this.getList())}}]),t}(o.Component),J=n(244),G=n.n(J),Z=n(32),Q=n.n(Z),$=function(e){var t=e.tooltipText;return a.a.createElement("div",{className:G.a.clickIcon,onClick:function(t){t.stopPropagation(),e.onClick()},"data-tip":t},e.children,a.a.createElement(Q.a,{place:"bottom",type:"dark",effect:"solid"}))},ee=n(153),te=n.n(ee),ne=function(e){var t=e.tooltipText;return a.a.createElement("div",{"data-tip":t,onClick:function(e){return e.stopPropagation()}},a.a.createElement("label",{class:te.a.uploadFile},e.children,a.a.createElement("input",{className:te.a.input,type:"file",onChange:function(t){var n=t.target.cloneNode(!0);n.files[0]&&e.onChangeFile(n)}}),t&&a.a.createElement(Q.a,{place:"bottom",type:"dark",effect:"solid"})))},oe=n(154),ae=n.n(oe),re=function(e){var t=e.check?ae.a.check:"",n=e.check?"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c":"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c";return a.a.createElement("div",{className:q()(ae.a.fixMark,t),onClick:function(t){t.stopPropagation(),e.onClick()},"data-tip":n},a.a.createElement("i",{class:"fas fa-thumbtack"}),a.a.createElement(Q.a,{place:"bottom",type:"dark",effect:"solid"}))},ie=function(e){var t=e.panels.map(function(e){switch(e.name){case"color":var t={position:e.position,getColor:e.getColor,currentColor:e.currentColor};return a.a.createElement("div",{className:V.a.icon,"data-tip":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0432\u0435\u0442"},a.a.createElement(Y,t));case"delNote":var n=e.onClickDelNoteBtn;return a.a.createElement("div",{className:V.a.icon},a.a.createElement($,{tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:n},a.a.createElement("i",{class:"far fa-trash-alt"})));case"createClone":var o=e.onClickCreateCloneBtn;return a.a.createElement("div",{className:V.a.icon},a.a.createElement($,{tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u043e\u043f\u0438\u044e",onClick:o},a.a.createElement("i",{class:"far fa-clone"})));case"addImg":var r=e.addImg;return a.a.createElement("div",{className:V.a.icon,"data-tip":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},a.a.createElement(ne,{onChangeFile:r},a.a.createElement("i",{class:"far fa-image"})));case"fixMark":var i=e.fixMark,c=e.onClickFixMark;return a.a.createElement("div",{className:V.a.icon},a.a.createElement(re,{check:i,onClick:c}))}}),n=e.noteBottomClass?e.noteBottomClass:"";return a.a.createElement("div",{className:q()(V.a.noteBottomPanel,n)},t,a.a.createElement(Q.a,{place:"bottom",type:"dark",effect:"solid"}))},ce=ie,se=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).yyyyyy=function(){n.props.removeAllMarkNote()},n.getForAllNotes=function(e){},n.changeColor=function(e){n.props.markNotes.forEach(function(t){n.props.updateNote(t.id,{bgColor:e})})},n.cloneNote=function(){n.props.markNotes.forEach(function(e){var t=Object(c.a)({},e);delete t.id,n.props.addNote(t)})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.markNotes,n=!!t.find(function(e){return e.fixMark}),o=[{name:"fixMark",fixMark:function(){return n},onClickFixMark:function(){t.forEach(function(t){e.props.updateNote(t.id,{fixMark:!n})})}},{name:"color",position:"positionBottomLeft",getColor:this.changeColor},{name:"delNote",onClickDelNoteBtn:function(){return e.props.deleteAllNote(e.props.markNotes)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}];return a.a.createElement("div",{className:H.a.header},t.length>0&&a.a.createElement("div",{className:H.a.headerNotice},a.a.createElement("div",{className:q()("container",H.a.noticeContainer)},a.a.createElement("div",{className:H.a.headerNoticeMain},a.a.createElement("div",{onClick:this.yyyyyy},a.a.createElement("i",{class:"fas fa-times"})),a.a.createElement("div",{className:H.a.noticeTitle},"\u0412\u044b\u0431\u0440\u0430\u043d\u0430 ",t.length," \u0437\u0430\u043c\u0435\u0442\u043a\u0430"),a.a.createElement(ce,{panels:o})))),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:H.a.main},a.a.createElement(R,null))))}}]),t}(o.Component),le=Object(T.d)(Object(d.b)(function(e){return{markNotes:e.notesReducer.markNotes}},function(e){return{addMarkNote:function(t){return e(x(t))},deleteNote:function(t){return e(y(t))},removeAllMarkNote:function(){return e({type:"CLEAR_MARKNOTES"})},deleteAllNote:function(t){return e(function(e){return function(t,n,o){var a=o.getFirestore,r=o.storage;t({type:"CLEAR_MARKNOTES"}),e.forEach(function(o){y(o,e)(t,n,{getFirestore:a,storage:r})})}}(t))},updateNote:function(t,n){return e(P(t,n))},addNote:function(t){return e(N(t))}}}),Object(B.firestoreConnect)([{collection:"projects"},{collection:"notes"}]))(se),pe=n(102),ue=n.n(pe),me=n(98),de=n.n(me),fe=n(155),he=n.n(fe),ge=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).textarea=a.a.createRef(),n.state={title:n.props.value||""},n.onTitleChange=function(e){n.setState({title:e.currentTarget.value}),n.props.getTitle(e.currentTarget.value)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){de()(this.textarea.current)}},{key:"render",value:function(){this.props.textareaClass&&this.props.textareaClass;return a.a.createElement("div",{className:he.a.panelTitle},a.a.createElement("textarea",{className:q()(he.a.textarea,this.props.textareaClass),onChange:this.onTitleChange,value:this.state.title,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",ref:this.textarea}))}}]),t}(o.Component),ve=ge,be=re,_e=n(245),Oe=n.n(_e),ke=n(246),Ce=n.n(ke),Ee=function(e){return a.a.createElement("div",{class:"".concat(Oe.a.btn," ").concat(Ce.a.btn),role:"button",onClick:e.onClick},e.text)},xe=Ee,je=function(e,t){if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e.files[0])}},Ne=n(103),ye=n.n(Ne),we=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={picture:null},n.setImgPreview=function(e){je(e,function(e){console.log(e),n.setState({picture:e})})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.input&&this.setImgPreview(this.props.input)}},{key:"componentDidUpdate",value:function(e,t){console.log("======"),null===e.input&&this.props.input.files[0]&&this.setImgPreview(this.props.input),null!==e.input&&e.input.files[0]!==this.props.input.files[0]&&this.setImgPreview(this.props.input)}},{key:"render",value:function(){return a.a.createElement("div",{className:ye.a.pictureBox},this.props.initialPicture&&!this.props.input&&a.a.createElement("div",null,a.a.createElement("img",{className:q()("img-fluid",ye.a.img),src:this.props.initialPicture,alt:"Uploaded images"})),this.state.picture&&a.a.createElement("div",null,a.a.createElement("img",{className:q()("img-fluid",ye.a.img),src:this.state.picture,alt:"Uploaded images"})))}}]),t}(o.Component),Ie=n(156),Pe=n.n(Ie),Me=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).input=a.a.createRef(),n.state={value:n.props.value||""},n.onChange=function(e){n.setState({value:e.currentTarget.value}),n.props.getText(e.currentTarget.value)},n.activateEditMode=function(){n.setState({editMode:!0})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){de()(this.input.current)}},{key:"deactivateEditMode",value:function(){this.setState({editMode:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:Pe.a.notePanel},a.a.createElement("textarea",{className:Pe.a.textarea,type:"text",value:this.state.value,placeholder:this.props.placeholder||"\u0417\u0430\u043c\u0435\u0442\u043a\u0430",onChange:this.onChange,ref:this.input}))}}]),t}(o.Component),De=Me,Te=(n(423),n(46)),Be=n.n(Te),Se=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(u.a)(t).call(this,e))).input=a.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.focus&&this.input.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.checkbox,e.onDeleteTodoListItem),o=e.onChangeTextField,r=e.onClickCompletedCheckbox,i=q()(Be.a.listItem,[this.props.className||"",this.props.checkbox?Be.a.active:""]);return a.a.createElement("li",{className:i},a.a.createElement("div",{className:Be.a.checkbox,onClick:r},a.a.createElement("i",{className:q()("fas fa-check",Be.a.checkboxMark)})),a.a.createElement("input",{className:Be.a.input,type:"text",value:t,onChange:function(e){return o(e.target.value)},ref:this.input}),a.a.createElement("div",{className:Be.a.closeBtn,onClick:n},a.a.createElement("i",{class:"fas fa-times"})))}}]),t}(o.Component),Fe=n(157),Le=n.n(Fe),Ae=function(e){var t=e.items,n=e.onChangeTextField,o=e.onClickCompletedCheckbox,r=e.onDeleteTodoListItem;return a.a.createElement("ul",{className:"list-items ".concat(e.className)}," ",e.viewMode&&"only-view"===e.viewMode?t.map(function(e,t,n){return a.a.createElement(Se,{id:e.id,value:e.value,checkbox:e.checkbox,onDeleteTodoListItem:function(){},onChangeTextField:function(){},onClickCompletedCheckbox:function(){},focus:!1,className:Le.a.listItem})}):t.map(function(e,t,i){var c=t===i.length-1;return a.a.createElement(Se,{id:e.id,value:e.value,checkbox:e.checkbox,onDeleteTodoListItem:function(){r(e.id)},onChangeTextField:function(t){return n(e.id,t)},onClickCompletedCheckbox:function(){return o(e.id)},focus:c,className:Le.a.listItem})})," ")},Re=n(104),We=n.n(Re),He=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={value:""},n.onChangeInputText=function(e){n.props.onChangeForm(e.target.value),n.setState({value:""})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:We.a.form},a.a.createElement("div",{className:We.a.icon},a.a.createElement("i",{class:"fas fa-plus"})),a.a.createElement("input",{type:"text",className:We.a.formInput,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",value:this.state.value,onChange:this.onChangeInputText}))}}]),t}(a.a.Component),Ue=n(35),Ve=Ae,ze=He,Ke=n(247),Xe=n.n(Ke);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Je=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={itemId:1,lists:[]},n.createTodoItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:n.state.itemId++,value:e,checkbox:!1}},n.onChangeTextField=function(e,t){n.setState(function(o){var a=Object(h.a)(o.lists).slice(0),r=a.findIndex(function(t){return t.id===e}),i=[].concat(Object(Ue.a)(a.slice(0,r)),[Ye({},a[r],{value:t})],Object(Ue.a)(a.slice(r+1)));return n.props.returningItems(i),{lists:i}})},n.onClickCompletedCheckbox=function(e){n.setState(function(t){var o=Object(h.a)(t.lists).slice(0),a=o.findIndex(function(t){return t.id===e}),r=[].concat(Object(Ue.a)(o.slice(0,a)),[Ye({},o[a],{checkbox:!o[a].checkbox})],Object(Ue.a)(o.slice(a+1)));return n.props.returningItems(r),{lists:r}})},n.onDeleteTodoListItem=function(e){n.setState(function(t){var o=t.lists.findIndex(function(t){return t.id===e}),a=[].concat(Object(Ue.a)(t.lists.slice(0,o)),Object(Ue.a)(t.lists.slice(o+1)));return n.props.returningItems(a),{lists:a}})},n.addTodoItem=function(e){n.setState(function(t){var o=[].concat(Object(Ue.a)(t.lists),[n.createTodoItem(e)]);return n.props.returningItems(o),{lists:o}})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.lists;if(e){var t=e[e.length-1].id+1;this.setState({lists:e,itemId:t})}}},{key:"render",value:function(){return a.a.createElement("div",{className:Xe.a.todoList},a.a.createElement(Ve,{items:this.state.lists,onChangeTextField:this.onChangeTextField,onClickCompletedCheckbox:this.onClickCompletedCheckbox,onDeleteTodoListItem:this.onDeleteTodoListItem}),a.a.createElement(ze,{onChangeForm:this.addTodoItem}))}}]),t}(o.Component),Ge=Je,Ze=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={lists:[]},n.returningItems=function(e){n.setState(function(t){return n.props.getList({lists:e}),{lists:e}})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(Ge,{returningItems:this.returningItems}))}}]),t}(o.Component),Qe=function(e){return 0===e.length||""==e.replace(/\s/g,"")?null:e},$e=n(27),et=n.n($e);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ot=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={progress:0,currentColor:"#ffffff",note:{fixMark:!1}},n.onClickFixMark=function(){n.setState(function(e){return{note:nt({},e.note,{fixMark:!e.note.fixMark})}})},n.onClickAddBtn=function(){var e=n.props.input;e?_(e,function(e,t){n.setState(function(o){var a=nt({},o.note,{imgWidth:e,imgHeight:t});n.props.onClickAddBtn(a)})}):n.props.onClickAddBtn(n.state.note)},n.onDelete=function(){n.props.setInput(null)},n.getColor=function(e){n.setState({currentColor:e}),n.props.setData({bgColor:e})},n.getTitle=function(e){var t=Qe(e),o=null===t?null:{title:t};n.props.setData(o)},n.getText=function(e){var t=Qe(e),o=null===t?null:{text:t};n.props.setData(o)},n.getList=function(e){0===e.length?n.props.setData(null):n.props.setData(e)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this,n=[{name:"addImg",addImg:function(e){return t.props.setInput(e)}},{name:"color",currentColor:this.state.currentColor,getColor:function(e){return t.getColor(e)}}];switch(this.props.view){case"note":case"img":e=a.a.createElement(De,{getText:this.getText});break;case"list":e=a.a.createElement(Ze,{getList:this.getList})}return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:et.a.pictureBox},this.props.input&&a.a.createElement("div",{className:et.a.picturePreview},a.a.createElement(we,{input:this.props.input})),a.a.createElement("div",{className:et.a.deleteIcon},a.a.createElement($,{onClick:this.onDelete,tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},a.a.createElement("i",{class:"far fa-trash-alt"})))),a.a.createElement(ve,{getTitle:this.getTitle,textareaClass:et.a.title}),a.a.createElement("div",{className:et.a.fixMark},a.a.createElement(be,{check:this.state.note.fixMark,onClick:this.onClickFixMark})),e,a.a.createElement("div",{className:et.a.bottomPanel},a.a.createElement("div",{className:et.a.bottomPanelBox},a.a.createElement(ce,{panels:n,noteBottomClass:et.a.noteBottom})),a.a.createElement(xe,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:this.onClickAddBtn})))}}]),t}(o.Component),at=n(54),rt=n.n(at),it=function(e){var t=e.setPanelView;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:rt.a.textarea,onClick:function(){return t("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0430\u2026"),a.a.createElement("div",{className:q()(rt.a.icon,rt.a.listIcon),onClick:function(){return t("list")}},a.a.createElement($,{tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",onClick:function(){return t("list")}},a.a.createElement("i",{class:"far fa-check-square"}))),a.a.createElement("div",{className:q()(rt.a.icon,rt.a.imgIcon)},a.a.createElement(ne,{onChangeFile:function(e){return t("img",e)},tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0442\u043e\u0437\u0430\u043c\u0435\u0442\u043a\u0443"},a.a.createElement("i",{class:"far fa-image"}))))},ct=n(33),st=function(e){return function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(p.a)(this,Object(u.a)(n).call(this,e))).setWrapperRef=t.setWrapperRef.bind(Object(ct.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(ct.a)(t)),t.state={show:!0},t}return Object(m.a)(n,t),Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)?this.setState({show:!1}):this.setState({show:!0})}},{key:"render",value:function(){var t=this.state.show;return a.a.createElement(e,Object.assign({},this.props,{show:t,hhhhh:this.setWrapperRef}))}}]),n}(o.Component)};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ut=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).defaultNoteView={bgColor:"#ffffff"},n.state={emptyField:!0,input:null,view:"",note:pt({},n.defaultNoteView)},n.onClickAddBtn=function(e){var t;!n.state.emptyField||n.state.input?(n.state.input&&(t=n.state.input.files[0]),n.setState(function(o){var a=pt({},o.note,{},e,{type:o.view});return n.props.addNote(a,t),{note:a=pt({},n.defaultNoteView)}}),n.setState({emptyField:!0}),n.changeView("")):alert("\u0412\u0441\u0435 \u043f\u043e\u043b\u044f \u043f\u0443\u0441\u0442\u044b\u0435!")},n.changeView=function(e,t){t&&n.setState({emptyField:!1}),n.setState({view:e,input:t})},n.setData=function(e){if(null===e)return n.setState({emptyField:!0});n.setState({emptyField:!1,note:pt({},n.state.note,{},e)})},n.setInput=function(e){n.setState({input:e})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.show!==e.show&&(this.setState(function(e){return{emptyField:!0,input:null,view:"",note:pt({},n.defaultNoteView)}}),this.changeView(""))}},{key:"render",value:function(){return a.a.createElement("div",{className:q()(ue.a.notesPanel,ue.a[this.state.view])},a.a.createElement("div",{className:ue.a.notesPanelWrap,ref:this.props.hhhhh,style:{backgroundColor:this.state.note.bgColor}},""===this.state.view&&a.a.createElement(it,{setPanelView:this.changeView}),""!==this.state.view&&a.a.createElement(ot,{onClickAddBtn:this.onClickAddBtn,setInput:this.setInput,input:this.state.input,setData:this.setData,view:this.state.view})))}}]),t}(o.Component),mt=Object(T.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes}},function(e){return{addNote:function(t,n){return e(N(t,n))}}}),Object(B.firestoreConnect)([{collection:"notes"}]),st)(ut),dt=n(22),ft=n.n(dt),ht=n(99),gt=n.n(ht),vt=n(248),bt=n.n(vt),_t={content:{maxWidth:"600px",width:"100%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",zIndex:"100",padding:"0",overflow:"visible"}},Ot=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(gt.a,{isOpen:this.props.isOpen,style:_t,overlayClassName:bt.a.ddd,onRequestClose:this.props.onRequestClose},this.props.children)}}]),t}(o.Component),kt=n(249),Ct=n.n(kt),Et=n(105),xt=n.n(Et),jt=function(e){var t=e.classes?e.classes.map(function(e){return xt.a[e]}):[];return a.a.createElement("div",{className:xt.a.spinner},a.a.createElement("img",{className:q()(xt.a.spinnerImg,t),src:Ct.a,alt:""}))},Nt=n(158),yt=n.n(Nt),wt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={loader:!0,height:null},n.calcHeight=function(){var e=n.props.note,t=e.imgHeight,o=e.imgWidth,a=n.props.width*(t/o);n.setState({height:a})},n.onLoad=function(e){n.setState({loader:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.calcHeight()}},{key:"componentDidUpdate",value:function(e){this.props.note.imgHeight!==e.note.imgHeight&&this.calcHeight(),this.props.width!==e.width&&this.calcHeight()}},{key:"render",value:function(){return a.a.createElement("div",{className:yt.a.imgBox,style:{height:this.state.height}},this.props.note.url&&a.a.createElement("img",Object(f.a)({className:"img-fluid",src:this.props.note.url,onLoad:this.onLoad,onError:this.onError},"className",yt.a.img)),a.a.createElement(jt,{classes:["small"]}))}}]),t}(o.Component),It=n(250),Pt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).box=a.a.createRef(),n.state={boxWidth:null},n.updateDimensions=function(){n.setState({boxWidth:n.box.current.offsetWidth})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({boxWidth:this.box.current.offsetWidth}),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){return a.a.createElement("div",{className:"img-height-loader",ref:this.box},this.props.note.imgHeight&&a.a.createElement(wt,{note:this.props.note,width:this.state.boxWidth}))}}]),t}(o.Component),Mt=Pt,Dt=n(34),Tt=n.n(Dt),Bt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={currentColor:n.props.note.bgColor,picture:null,inputData:null,input:null},n.closeModal=function(e){e.stopPropagation(),n.props.modal(!1)},n.cloneNote=function(){var e=Object(c.a)({},n.props.note);delete e.id,n.props.addNote(e)},n.getColor=function(e){n.setState({currentColor:e}),n.props.updateNote(n.props.note.id,{bgColor:e})},n.onDelete=function(){n.props.delImg(n.props.note)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setImgParams",value:function(e){var t=this,n=e.files[0];this.props.note.imgHeight?this.props.replaceImage(this.props.note,e):_(e,function(e,o){t.props.updateNote(t.props.note.id,{imgWidth:e,imgHeight:o}),t.props.addImage(n,t.props.note.id)})}},{key:"render",value:function(){var e=this,t=[{name:"color",currentColor:this.props.note.bgColor,getColor:function(t){return e.getColor(t)}},{name:"addImg",addImg:function(t){e.setImgParams(t)}},{name:"delNote",onClickDelNoteBtn:function(){return e.props.deleteNote(e.props.note,e.props.notes)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}];return a.a.createElement("div",null,this.props.previewContent,a.a.createElement(Ot,{isOpen:this.props.modalIsOpen,onRequestClose:this.closeModal},a.a.createElement("div",{style:{backgroundColor:this.props.note.bgColor}},this.props.note.url&&a.a.createElement("div",{className:Tt.a.pictureBox},a.a.createElement(Mt,{note:this.props.note}),a.a.createElement("div",{className:Tt.a.deleteIcon},a.a.createElement($,{onClick:this.onDelete,tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},a.a.createElement("i",{class:"far fa-trash-alt"})))),a.a.createElement("div",{className:Tt.a.fixMark},a.a.createElement(be,{check:this.props.note.fixMark,onClick:function(){return e.props.updateNote(e.props.note.id,{fixMark:!e.props.note.fixMark})}})),a.a.createElement("div",null,this.props.children,a.a.createElement("div",{className:Tt.a.date},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u043e: ",It(this.props.note.time).format("LTS"))),a.a.createElement("div",{className:Tt.a.bottomPanel},a.a.createElement("div",{className:Tt.a.bottomPanelBox},a.a.createElement(ie,{panels:t})),a.a.createElement("div",{className:Tt.a.btns},a.a.createElement(Ee,{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:this.closeModal}))))))}}]),t}(o.Component),St=Object(T.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes,markNotes:e.notesReducer.markNotes}},function(e){return{addImage:function(t,n){return e(j(t,n))},updateNote:function(t,n){return e(P(t,n))},addMarkNote:function(t){return e(x(t))},addNote:function(t){return e(N(t))},deleteNote:function(t,n){return e(y(t,n))},delImg:function(t){return e(w(t))},replaceImage:function(t,n,o,a){return e(I(t,n))}}}),Object(B.firestoreConnect)([{collection:"notes"}]))(Bt),Ft=n(55),Lt=n.n(Ft);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={note:{title:n.props.note.title,text:n.props.note.text}},n.onChangeText=function(e){n.setState(function(t){return{note:Rt({},t.note,{text:e})}})},n.onChangeTitle=function(e){n.setState(function(t){return{note:Rt({},t.note,{title:e})}})},n.setData=function(){n.props.updateNote(n.props.note.id,Rt({},n.state.note,{time:+new Date}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",{className:Lt.a.note},a.a.createElement("div",{className:Lt.a.main},this.props.note.title&&a.a.createElement("div",{className:Lt.a.title},this.props.note.title),this.props.note.text&&a.a.createElement("div",{className:Lt.a.text},this.props.note.text)));return a.a.createElement(St,{note:this.props.note,previewContent:e,modalIsOpen:this.props.modalIsOpen,modal:this.props.modal,setData:this.setData},a.a.createElement(ge,{value:this.props.note.title,getTitle:this.onChangeTitle,textareaClass:Lt.a.modalTitle}),a.a.createElement(Me,{value:this.props.note.text,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",getText:this.onChangeText}))}}]),t}(o.Component),Ht=n(106),Ut=n.n(Ht);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Kt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={modalIsOpen:!1,note:{lists:n.props.note.lists}},n.onChangeTitle=function(e){n.setState(function(t){return{note:zt({},t.note,{title:e})}})},n.returningItems=function(e){n.setState({note:zt({},n.state.note,{lists:e})})},n.setData=function(e){n.props.updateNote(n.props.note.id,zt({},n.state.note,{time:+new Date}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",null,this.props.note.title&&a.a.createElement("div",{className:Ut.a.title},this.props.note.title),this.props.note.lists&&a.a.createElement("div",{className:Ut.a.lists},a.a.createElement(Ae,{items:this.props.note.lists,viewMode:"only-view"})));return a.a.createElement(St,{note:this.props.note,previewContent:e,modalIsOpen:this.props.modalIsOpen,modal:this.props.modal,setData:this.setData},a.a.createElement(ve,{value:this.props.note.title,getTitle:this.onChangeTitle,textareaClass:Ut.a.modalTitle}),a.a.createElement(Je,{returningItems:this.returningItems,lists:this.state.note.lists}))}}]),t}(o.Component),Xt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={currentColor:n.props.note.bgColor,mark:!1,modalIsOpen:!1},n.onClickMark=function(){n.props.addMarkNote(n.props.note)},n.cloneNote=function(){var e=Object(c.a)({},n.props.note);delete e.id,n.props.addNote(e)},n.modal=function(e){n.setState(function(t){return{modalIsOpen:e}})},n.onClickNotePreview=function(){n.setState({modalIsOpen:!0})},n.getColor=function(e){n.setState({currentColor:e}),n.props.updateNote(n.props.note.id,{bgColor:e})},n.onClickFixMark=function(){n.props.updateNote(n.props.note.id,{fixMark:!n.props.note.fixMark})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"setImgParams",value:function(e){var t=this,n=e.files[0];this.props.note.imgHeight?this.props.replaceImage(this.props.note,e):_(e,function(e,o){t.props.updateNote(t.props.note.id,{imgWidth:e,imgHeight:o}),t.props.addImage(n,t.props.note.id)})}},{key:"buildMain",value:function(){switch(this.props.note.type){case"note":case"img":return a.a.createElement(Wt,{note:this.props.note,replaceImage:this.props.replaceImage,updateNote:this.props.updateNote,modalIsOpen:this.state.modalIsOpen,modal:this.modal});case"list":return a.a.createElement(Kt,{note:this.props.note,updateNote:this.props.updateNote,modalIsOpen:this.state.modalIsOpen,modal:this.modal});default:return a.a.createElement("div",null,"no note")}}},{key:"render",value:function(){var e=this,t=[{name:"color",currentColor:this.state.currentColor,getColor:function(t){return e.getColor(t)}},{name:"addImg",addImg:function(t){return e.setImgParams(t)}},{name:"delNote",onClickDelNoteBtn:function(){return e.props.deleteNote(e.props.note,e.props.notes)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}],n="relative",o=null;return this.props.note.imgHeight?n="absolute":o=ft.a.paddingTop,this.props.note.text||this.props.note.title||this.props.note.lists?(n="relative",o=ft.a.paddingTop):n="absolute",this.props.note.imgHeight&&(this.props.note.text||this.props.note.title||this.props.note.lists)&&(o=ft.a.paddingTop),a.a.createElement("div",{className:q()(ft.a.notePreview,this.state.mark&&ft.a.activeNote),style:{backgroundColor:this.props.note.bgColor,opacity:this.state.modalIsOpen?0:1},onClick:this.onClickNotePreview},a.a.createElement("div",{className:ft.a.notePreviewWrap},a.a.createElement(Pt,{note:this.props.note}),a.a.createElement("div",null,a.a.createElement("div",{className:ft.a.fixMark},a.a.createElement(re,{check:this.props.note.fixMark,onClick:this.onClickFixMark})),a.a.createElement("div",{className:q()(ft.a.main,o)},this.buildMain()))),a.a.createElement("div",{className:q()(ft.a.NoteBottomPanel,ft.a[n])},a.a.createElement(ie,{panels:t})))}}]),t}(o.Component),qt=Object(T.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes,markNotes:e.notesReducer.markNotes}},function(e){return{delImg:function(t){return e(w(t))},addImage:function(t,n){return e(j(t,n))},updateNote:function(t,n){return e(P(t,n))},addMarkNote:function(t){return e(x(t))},addNote:function(t){return e(N(t))},deleteNote:function(t,n){return e(y(t,n))},replaceImage:function(t,n,o,a){return e(I(t,n))}}}),Object(B.firestoreConnect)([{collection:"notes"}]))(Xt),Yt=jt,Jt=n(28),Gt=n.n(Jt),Zt=n(251),Qt=n.n(Zt),$t=Object(T.d)(Object(d.b)(function(e){return{projects:e.firestore.ordered.projects,notes:e.firestore.ordered.notes,markNotes:e.notesReducer.markNotes}},function(e){return{deleteNote:function(t,n){return e(y(t,n))},updateNote:function(t,n){return e(P(t,n))},addMarkNote:function(t){return e(x(t))}}}),Object(B.firestoreConnect)([{collection:"projects"},{collection:"notes"}]))(function(e){var t={transitionDuration:0},n={background:".my-bg-image-el"},o=e.notes,r=(e.deleteNote,e.updateNote),i=e.addMarkNote,c=[],s=[],l=function(e){return a.a.createElement(Qt.a,{className:q()(Gt.a.npWrap,""),options:t,disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:n,onLayoutComplete:function(e){console.log(1111,e)}},e)};if(o){var p=Object(h.a)(o).slice(0);p.sort(function(e,t){return e.time>t.time?-1:e.time==t.time?0:e.time<t.time?1:void 0});var u=function(e){return a.a.createElement(qt,{key:e.id,note:e,updateNote:function(t){return r(e.id,t)},onClickMark:function(){return i(e.id)}})};c=p.filter(function(e){return!e.fixMark}).map(u),s=p.filter(function(e){return e.fixMark}).map(u)}return a.a.createElement("div",{className:Gt.a.allNotes},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:q()(Gt.a.main,Gt.a.notesList)},void 0===o&&a.a.createElement(Yt,{classes:["big"]}),void 0!==o&&(0!==o.length?a.a.createElement(a.a.Fragment,null,0!==s.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Gt.a.fixNotesBox},a.a.createElement("div",{className:Gt.a.notesListTitle},"\u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),l(s))),0!==s.length&&0!==c.length&&a.a.createElement("div",{className:Gt.a.notesListTitle},"\u0414\u0440\u0443\u0433\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),0!==c.length&&l(c)):a.a.createElement("div",{className:Gt.a.emptyNotesBox},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043c\u0435\u0442\u043e\u043a \u043f\u0443\u0441\u0442...")))))}),en=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1,info:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){var n=t.componentStack;console.log("componentStack"),console.log(n),this.setState({hasError:!0,info:n})}},{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",null,this.state.info):this.props.children}}]),t}(o.Component),tn=n(159),nn=n.n(tn),on=function(){return a.a.createElement(en,null,a.a.createElement("div",{className:nn.a.app},a.a.createElement(le,null),a.a.createElement("div",{className:nn.a.main},a.a.createElement(mt,null),a.a.createElement($t,null))))},an=n(73),rn=n(252),cn=Object(T.c)({notesReducer:D,firestore:an.firestoreReducer}),sn=Object(T.e)(cn,Object(T.d)(Object(T.a)(rn.a.withExtraArgument({getFirebase:B.getFirebase,getFirestore:an.getFirestore,storage:b})),Object(B.reactReduxFirebase)(v.a),Object(an.reduxFirestore)(v.a)));window.store=sn.getState();var ln=sn;gt.a.setAppElement("#root"),i.a.render(a.a.createElement(d.a,{store:ln},a.a.createElement(on,null)),document.getElementById("root"))},54:function(e,t,n){e.exports={icon:"default-panel_icon__2F9Sf",imgIcon:"default-panel_imgIcon__r8BZi",listIcon:"default-panel_listIcon__3EB_U",textarea:"default-panel_textarea__q9SVX"}},55:function(e,t,n){e.exports={img:"simple-note-preview_img__3UylK",bottomPanelBox:"simple-note-preview_bottomPanelBox__1qXqN",bottomPanel:"simple-note-preview_bottomPanel__222qF",noteWrap:"simple-note-preview_noteWrap__1LOSl",date:"simple-note-preview_date__gxGPL",fixMark:"simple-note-preview_fixMark__Iui8j",icon:"simple-note-preview_icon__25tfi",imageBox:"simple-note-preview_imageBox__3BcK2",title:"simple-note-preview_title__1FAu-",text:"simple-note-preview_text__1k0HK",modalTitle:"simple-note-preview_modalTitle__21gWi"}}},[[253,1,2]]]);
//# sourceMappingURL=main.1c536c23.chunk.js.map