(window.webpackJsonpkeep=window.webpackJsonpkeep||[]).push([[0],{101:function(e,t,n){e.exports={logo:"logo_logo__2wzac",logoIcon:"logo_logoIcon__-1f5I",logoName:"logo_logoName__1SeB_"}},102:function(e,t,n){e.exports={notesPanel:"add-notes-panel_notesPanel__2PvZk",notesPanelWrap:"add-notes-panel_notesPanelWrap__3vGxa",img:"add-notes-panel_img__1IMmn"}},103:function(e,t,n){e.exports={deleteIcon:"picture-preview-box_deleteIcon__3XRic",pictureBox:"picture-preview-box_pictureBox__1VlEt",picturePreview:"picture-preview-box_picturePreview__JV-Ly"}},104:function(e,t,n){e.exports={form:"form_form__VbASh",formInput:"form_formInput__20PVr",icon:"form_icon__17ICG"}},105:function(e,t,n){e.exports={title:"list-note-preview_title__19oMh",lists:"list-note-preview_lists__31e9C",modalTitle:"list-note-preview_modalTitle__3kEWb"}},106:function(e,t,n){e.exports={spinner:"spinner_spinner__1fUKb",small:"spinner_small__192s5",big:"spinner_big__2ug0x"}},153:function(e,t,n){e.exports={input:"input-file_input__2UxNG",uploadFile:"input-file_uploadFile__aLu6H"}},154:function(e,t,n){e.exports={fixMark:"fix-mark_fixMark__3VFm9",check:"fix-mark_check__1eyTu"}},155:function(e,t,n){e.exports={textarea:"panel-title_textarea__zDjU0"}},156:function(e,t,n){e.exports={img:"picture-preview_img__jZr9U"}},157:function(e,t,n){e.exports={notePanel:"note-panel_notePanel__1t2YI",textarea:"note-panel_textarea__2rSeb"}},158:function(e,t,n){e.exports={listItem:"list-items_listItem__376Lu"}},159:function(e,t,n){e.exports={imgBox:"img-box_imgBox__2xyMy",img:"img-box_img__1mhY4"}},160:function(e,t,n){e.exports={main:"app_main__3o5VZ"}},22:function(e,t,n){e.exports={selectedMark:"note-preview_selectedMark__1dHjp",main:"note-preview_main__2uq4N",paddingTop:"note-preview_paddingTop__1Zijp",paddingBottom:"note-preview_paddingBottom__1ouiZ",NoteBottomPanel:"note-preview_NoteBottomPanel__24Sqr",fixMark:"note-preview_fixMark__2jbx2",notePreview:"note-preview_notePreview__2ljV2",activeNote:"note-preview_activeNote__2AqOA",active:"note-preview_active__136CD",notePreviewWrap:"note-preview_notePreviewWrap__2FN0c",absolute:"note-preview_absolute__mh4cn",openModal:"note-preview_openModal__Tp6u9",loader:"note-preview_loader__1Y0vb"}},244:function(e,t,n){e.exports=n.p+"static/media/logo.d12c0d77.png"},245:function(e,t,n){e.exports={clickIcon:"click-icon_clickIcon__2kZmn"}},246:function(e,t,n){e.exports={btn:"btn_btn__15QAj",btn_gray:"btn_btn_gray__3lwGL",btn_block:"btn_btn_block__fEyrw"}},247:function(e,t,n){e.exports={btn:"add-btn_btn__1zID0"}},248:function(e,t,n){},249:function(e,t,n){},25:function(e,t,n){e.exports={chooseColor:"choose-color_chooseColor__I3sn7",title:"choose-color_title__2l2HI",box:"choose-color_box__2SyYQ",positionTopLeft:"choose-color_positionTopLeft__3f0FI",positionBottomLeft:"choose-color_positionBottomLeft__2RU5b",list:"choose-color_list__2opX-",listItem:"choose-color_listItem__8sZiG",mark:"choose-color_mark__2p12M",currentColor:"choose-color_currentColor__1lMYL"}},250:function(e,t,n){e.exports={overlay:"modal-box_overlay__3jRGs"}},252:function(e,t,n){e.exports=n.p+"static/media/puff.13f271c7.svg"},255:function(e,t,n){e.exports=n(487)},260:function(e,t,n){},27:function(e,t,n){e.exports={emptyNotesBox:"all-notes_emptyNotesBox__3uzN7",notesList:"all-notes_notesList__2NtRW",npWrap:"all-notes_npWrap__tTnBd",notesListTitle:"all-notes_notesListTitle__MB3wH",fixNotesBox:"all-notes_fixNotesBox__3q5rl"}},42:function(e,t,n){e.exports={header:"header_header__1c1q6",headerNotice:"header_headerNotice__2J6bA",noticeContainer:"header_noticeContainer__1zsPY",headerNoticeMain:"header_headerNoticeMain__3X45Y",noticeTitle:"header_noticeTitle__1V8CF",main:"header_main__2l3h6"}},43:function(e,t,n){e.exports={noteBottomPanel:"note-bottom-panel_noteBottomPanel__1jQ6k",icon:"note-bottom-panel_icon__1P3QP","choose-color":"note-bottom-panel_choose-color__1mAVn",icon_3:"note-bottom-panel_icon_3__2AHKh",bgColorBox:"note-bottom-panel_bgColorBox__X58Mj"}},44:function(e,t,n){e.exports={listItem:"todo-list-item_listItem__1jPMX",checkbox:"todo-list-item_checkbox__1S2Bp",checkboxMark:"todo-list-item_checkboxMark__1NvYX",input:"todo-list-item_input__2Y7QU",closeBtn:"todo-list-item_closeBtn__2PQAX",active:"todo-list-item_active__1l40O"}},45:function(e,t,n){e.exports={img:"modal-container_img__XEWoW",bottomPanelBox:"modal-container_bottomPanelBox__3ccMY",bottomPanel:"modal-container_bottomPanel__XlKJV",noteWrap:"modal-container_noteWrap__34lo5",date:"modal-container_date__3DHwf",fixMark:"modal-container_fixMark__3mInW",icon:"modal-container_icon__16UJ4",imageBox:"modal-container_imageBox__3zXBJ",modalWrap:"modal-container_modalWrap__1rBBS",btns:"modal-container_btns__13yGI",cancelBtn:"modal-container_cancelBtn__22evz"}},487:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(150),i=n.n(r),c=(n(260),n(21)),s=n(2),l=n(3),u=n(5),p=n(4),m=n(6),d=n(18),f=n(15),h=n(41),g=n(72),v=n.n(g);n(265),n(268),n(488);v.a.initializeApp({apiKey:"AIzaSyAzzRGnQXaBoFF9uJnEXRmWPeg91_wSpMY",authDomain:"keep-be68c.firebaseapp.com",databaseURL:"https://keep-be68c.firebaseio.com",projectId:"keep-be68c",storageBucket:"keep-be68c.appspot.com",messagingSenderId:"1046598729377",appId:"1:1046598729377:web:43bcad6a311acbe1"}),v.a.firestore().settings({timestampsInSnapshots:!0});var b=v.a.storage(),_=function(e,t){var n=e.files[0];if(n){var o=window.URL||window.webkitURL,a=new Image;a.onload=function(){var e=this.width,n=this.height;t(e,n)},a.src=o.createObjectURL(n)}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x={time:+new Date},N={markNotes:[]},C=function(e){return{type:"ADD_MARK_NOTE",payload:e}},E=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage,c=function(e){return(new Date).getTime()+"."+e.name.split(".").pop()}(e);!function(e,t,n,o){e.ref("images/".concat(n)).put(t).on("state_changed",function(e){},function(e){alert(e.message_)},o)}(i,e,c,function(){!function(e,t,n,o,a,r){r.ref("images").child(e).getDownloadURL().then(function(r){I(t,{url:r,imgName:e})(n,o,{getFirestore:a})})}(c,t,n,o,r,i)})}},y=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage,c=k({},x,{},e);r().collection("notes").add(c).then(function(e){var a=e.id;void 0!==t&&E(t,a)(n,o,{getFirestore:r,storage:i})}).catch(function(e){})}},j=function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage;e.imgName&&(t.filter(function(t){return t.imgName===e.imgName}).length<2&&w(e,i));r().delete({collection:"notes",doc:e.id})}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(n,o,a){var r=a.getFirestore,i=a.storage;I(e.id,{url:null,imgName:null})(n,o,{getFirestore:r}),i.ref("images/".concat(e.imgName)).delete().then(function(){t()}).catch(function(e){console.log(i)})}},I=function(e,t){return function(n,o,a){(0,a.getFirestore)().update({collection:"notes",doc:e},t)}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_MARKNOTES":case"CLEAR_MARKNOTES":return{markNotes:[]};case"ADD_MARK_NOTE":var n=Object(h.a)(e.markNotes),o=n.slice(0),a=o.findIndex(function(e){return e.id===t.payload.id});return-1===a?o.push(t.payload):(o[a],o.splice(a,1)),console.log(o),k({},e,{markNotes:o});default:return e}},M=n(11),D=n(16),T=n(244),S=n.n(T),B=n(101),L=n.n(B),F=function(){return a.a.createElement("div",{className:L.a.logo},a.a.createElement("div",{className:L.a.logoIcon},a.a.createElement("img",{src:S.a,className:"img-fluid"})),a.a.createElement("div",{className:L.a.logoName},"Keep clone"))},A=n(42),R=n.n(A),W=n(43),H=n.n(W),U=n(25),V=n.n(U),z=n(8),K=n.n(z),X=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isShowList:!1},n.onMouseEnter=function(){n.setState({isShowList:!0})},n.onMouseLeave=function(){n.setState({isShowList:!1})},n.getColors=function(){return["#ffffff","#f28b82","#fbbc04","#fff475","#ccff90","#a7ffeb","#cbf0f8","#aecbfa","#d7aefb","#fdcfe8","#e6c9a8","#e8eaed"].map(function(e,t){var o=e,r=null;return n.props.currentColor===e&&(r=V.a.currentColor),0===t&&(o="#eee"),a.a.createElement("li",{key:e,className:K()(V.a.listItem,r),style:{backgroundColor:e,borderColor:o},onClick:function(t){t.stopPropagation(),n.props.getColor(e)}},r&&a.a.createElement("i",{className:K()("fas fa-check",V.a.mark)}))})},n.getList=function(){return n.state.isShowList&&a.a.createElement("div",{className:K()(V.a.box,n.props.position?V.a[n.props.position]:V.a.positionTopLeft)},a.a.createElement("ul",{className:V.a.list},n.getColors()))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:V.a.chooseColor,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.a.createElement("span",{className:V.a.title},a.a.createElement("i",{className:"fas fa-palette"})),this.getList())}}]),t}(o.Component),q=n(245),Y=n.n(q),G=n(31),J=n.n(G),Z=function(e){var t=e.tooltipText;return a.a.createElement("div",{className:Y.a.clickIcon,onClick:function(t){t.stopPropagation(),e.onClick()},"data-tip":t},e.children,a.a.createElement(J.a,{place:"bottom",type:"dark",effect:"solid"}))},Q=n(153),$=n.n(Q),ee=function(e){var t=e.tooltipText;return a.a.createElement("div",{"data-tip":t,onClick:function(e){return e.stopPropagation()}},a.a.createElement("label",{className:$.a.uploadFile},e.children,a.a.createElement("input",{className:$.a.input,type:"file",onChange:function(t){var n=t.target.cloneNode(!0);n.files[0]&&e.onChangeFile(n)}}),t&&a.a.createElement(J.a,{place:"bottom",type:"dark",effect:"solid"})))},te=n(154),ne=n.n(te),oe=function(e){var t=e.check?ne.a.check:"",n=e.check?"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c":"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c";return a.a.createElement("div",{className:K()(ne.a.fixMark,t),onClick:function(t){t.stopPropagation(),e.onClick()},"data-tip":n},a.a.createElement("i",{className:"fas fa-thumbtack"}),a.a.createElement(J.a,{place:"bottom",type:"dark",effect:"solid"}))},ae=function(e){var t=e.panels.map(function(e){switch(e.name){case"color":var t={position:e.position,getColor:e.getColor,currentColor:e.currentColor};return a.a.createElement("div",{key:e.name,className:H.a.icon,"data-tip":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0432\u0435\u0442"},a.a.createElement(X,t));case"delNote":var n=e.onClickDelNoteBtn;return a.a.createElement("div",{key:e.name,className:H.a.icon},a.a.createElement(Z,{tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:n},a.a.createElement("i",{className:"far fa-trash-alt"})));case"createClone":var o=e.onClickCreateCloneBtn;return a.a.createElement("div",{key:e.name,className:H.a.icon},a.a.createElement(Z,{tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u043e\u043f\u0438\u044e",onClick:o},a.a.createElement("i",{className:"far fa-clone"})));case"addImg":var r=e.addImg;return a.a.createElement("div",{key:e.name,className:H.a.icon,"data-tip":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},a.a.createElement(ee,{onChangeFile:r},a.a.createElement("i",{className:"far fa-image"})));case"fixMark":var i=e.fixMark,c=e.onClickFixMark;return a.a.createElement("div",{key:e.name,className:H.a.icon},a.a.createElement(oe,{check:i,onClick:c}))}}),n=e.noteBottomClass?e.noteBottomClass:"";return a.a.createElement("div",{className:K()(H.a.noteBottomPanel,n)},t,a.a.createElement(J.a,{place:"bottom",type:"dark",effect:"solid"}))},re=ae,ie=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).yyyyyy=function(){n.props.removeAllMarkNote()},n.getForAllNotes=function(e){},n.changeColor=function(e){n.props.markNotes.forEach(function(t){n.props.updateNote(t.id,{bgColor:e})})},n.cloneNote=function(){n.props.markNotes.forEach(function(e){var t=Object(c.a)({},e);delete t.id,n.props.addNote(t)})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.markNotes,n=!!t.find(function(e){return e.fixMark}),o=[{name:"fixMark",fixMark:function(){return n},onClickFixMark:function(){t.forEach(function(t){e.props.updateNote(t.id,{fixMark:!n})})}},{name:"color",position:"positionBottomLeft",getColor:this.changeColor},{name:"delNote",onClickDelNoteBtn:function(){return e.props.deleteAllNote(e.props.markNotes)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}];return a.a.createElement("div",{className:R.a.header},t.length>0&&a.a.createElement("div",{className:R.a.headerNotice},a.a.createElement("div",{className:K()("container",R.a.noticeContainer)},a.a.createElement("div",{className:R.a.headerNoticeMain},a.a.createElement("div",{onClick:this.yyyyyy},a.a.createElement("i",{className:"fas fa-times"})),a.a.createElement("div",{className:R.a.noticeTitle},"\u0412\u044b\u0431\u0440\u0430\u043d\u0430 ",t.length," \u0437\u0430\u043c\u0435\u0442\u043a\u0430"),a.a.createElement(re,{panels:o})))),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:R.a.main},a.a.createElement(F,null))))}}]),t}(o.Component),ce=Object(M.d)(Object(d.b)(function(e){return{markNotes:e.notesReducer.markNotes}},function(e){return{addMarkNote:function(t){return e(C(t))},deleteNote:function(t){return e(j(t))},removeAllMarkNote:function(){return e({type:"CLEAR_MARKNOTES"})},deleteAllNote:function(t){return e(function(e){return function(t,n,o){var a=o.getFirestore,r=o.storage;t({type:"CLEAR_MARKNOTES"}),e.forEach(function(o){j(o,e)(t,n,{getFirestore:a,storage:r})})}}(t))},updateNote:function(t,n){return e(I(t,n))},addNote:function(t){return e(y(t))}}}),Object(D.firestoreConnect)([{collection:"projects"},{collection:"notes"}]))(ie),se=n(102),le=n.n(se),ue=n(98),pe=n.n(ue),me=n(155),de=n.n(me),fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).textarea=a.a.createRef(),n.state={title:n.props.value||""},n.onTitleChange=function(e){n.setState({title:e.currentTarget.value}),n.props.getTitle(e.currentTarget.value)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){pe()(this.textarea.current)}},{key:"render",value:function(){this.props.textareaClass&&this.props.textareaClass;return a.a.createElement("div",{className:de.a.panelTitle},a.a.createElement("textarea",{className:K()(de.a.textarea,this.props.textareaClass),onChange:this.onTitleChange,value:this.state.title,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",ref:this.textarea}))}}]),t}(o.Component),he=oe,ge=n(246),ve=n.n(ge),be=n(247),_e=n.n(be),Oe=function(e){return a.a.createElement("div",{className:"".concat(ve.a.btn," ").concat(_e.a.btn),role:"button",onClick:e.onClick},e.text)},ke=Oe,xe=function(e,t){if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e.files[0])}},Ne=n(156),Ce=n.n(Ne),Ee=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={picture:null},n.setImgPreview=function(e){xe(e,function(e){n.setState({picture:e})})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.input;"string"===typeof e?this.setState({picture:e}):this.setImgPreview(e)}},{key:"componentDidUpdate",value:function(e,t){null===e.input&&this.props.input&&this.setImgPreview(this.props.input),null!==e.input&&"string"!==typeof this.props.input&&this.setImgPreview(this.props.input)}},{key:"render",value:function(){return a.a.createElement("div",{className:Ce.a.pictureBox},this.state.picture&&a.a.createElement("div",null,a.a.createElement("img",{className:K()("img-fluid",Ce.a.img),src:this.state.picture,alt:"Uploaded images"})))}}]),t}(o.Component),ye=n(103),je=n.n(ye),we=function(e){var t=e.input,n=e.onDelete;return a.a.createElement("div",{className:je.a.pictureBox},t&&a.a.createElement("div",{className:je.a.picturePreview},a.a.createElement(Ee,{input:t})),a.a.createElement("div",{className:je.a.deleteIcon},a.a.createElement(Z,{onClick:n,tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},a.a.createElement("i",{className:"far fa-trash-alt"}))))},Ie=n(157),Pe=n.n(Ie),Me=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).input=a.a.createRef(),n.state={value:n.props.value||""},n.onChange=function(e){n.setState({value:e.currentTarget.value}),n.props.getText(e.currentTarget.value)},n.activateEditMode=function(){n.setState({editMode:!0})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){pe()(this.input.current)}},{key:"deactivateEditMode",value:function(){this.setState({editMode:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:Pe.a.notePanel},a.a.createElement("textarea",{className:Pe.a.textarea,type:"text",value:this.state.value,placeholder:this.props.placeholder||"\u0417\u0430\u043c\u0435\u0442\u043a\u0430",onChange:this.onChange,ref:this.input}))}}]),t}(o.Component),De=n(33),Te=n(44),Se=n.n(Te),Be=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).input=a.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.focus&&this.input.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.checkbox,e.onDeleteTodoListItem),o=e.onChangeTextField,r=e.onClickCompletedCheckbox,i=K()(Se.a.listItem,[this.props.className||"",this.props.checkbox?Se.a.active:""]);return a.a.createElement("li",{className:i},a.a.createElement("div",{className:Se.a.checkbox,onClick:r},a.a.createElement("i",{className:K()("fas fa-check",Se.a.checkboxMark)})),a.a.createElement("input",{className:Se.a.input,type:"text",value:t,onChange:function(e){return o(e.target.value)},ref:this.input}),a.a.createElement("div",{className:Se.a.closeBtn,onClick:n},a.a.createElement("i",{className:"fas fa-times"})))}}]),t}(o.Component),Le=n(158),Fe=n.n(Le),Ae=function(e){var t=e.items,n=e.onChangeTextField,o=e.onClickCompletedCheckbox,r=e.onDeleteTodoListItem;return a.a.createElement("ul",{className:"list-items ".concat(e.className)}," ",e.viewMode&&"only-view"===e.viewMode?t.map(function(e,t,n){return a.a.createElement(Be,{key:e.id,id:e.id,value:e.value,checkbox:e.checkbox,onDeleteTodoListItem:function(){},onChangeTextField:function(){},onClickCompletedCheckbox:function(){},focus:!1,className:Fe.a.listItem})}):t.map(function(e,t,i){var c=t===i.length-1;return a.a.createElement(Be,{key:e.id,id:e.id,value:e.value,checkbox:e.checkbox,onDeleteTodoListItem:function(){r(e.id)},onChangeTextField:function(t){return n(e.id,t)},onClickCompletedCheckbox:function(){return o(e.id)},focus:c,className:Fe.a.listItem})})," ")},Re=Ae,We=n(104),He=n.n(We),Ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={value:""},n.onChangeInputText=function(e){n.props.onChangeForm(e.target.value),n.setState({value:""})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:He.a.form},a.a.createElement("div",{className:He.a.icon},a.a.createElement("i",{className:"fas fa-plus"})),a.a.createElement("input",{type:"text",className:He.a.formInput,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",value:this.state.value,onChange:this.onChangeInputText}))}}]),t}(a.a.Component),Ve=n(248),ze=n.n(Ve);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={itemId:1,lists:[]},n.createTodoItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:n.state.itemId++,value:e,checkbox:!1}},n.onChangeTextField=function(e,t){n.setState(function(o){var a=Object(h.a)(o.lists).slice(0),r=a.findIndex(function(t){return t.id===e}),i=[].concat(Object(De.a)(a.slice(0,r)),[Xe({},a[r],{value:t})],Object(De.a)(a.slice(r+1)));return n.props.returningItems(i),{lists:i}})},n.onClickCompletedCheckbox=function(e){n.setState(function(t){var o=Object(h.a)(t.lists).slice(0),a=o.findIndex(function(t){return t.id===e}),r=[].concat(Object(De.a)(o.slice(0,a)),[Xe({},o[a],{checkbox:!o[a].checkbox})],Object(De.a)(o.slice(a+1)));return n.props.returningItems(r),{lists:r}})},n.onDeleteTodoListItem=function(e){n.setState(function(t){var o=t.lists.findIndex(function(t){return t.id===e}),a=[].concat(Object(De.a)(t.lists.slice(0,o)),Object(De.a)(t.lists.slice(o+1)));return n.props.returningItems(a),{lists:a}})},n.addTodoItem=function(e){n.setState(function(t){var o=[].concat(Object(De.a)(t.lists),[n.createTodoItem(e)]);return n.props.returningItems(o),{lists:o}})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.lists;if(e){var t=e[e.length-1].id+1;this.setState({lists:e,itemId:t})}}},{key:"render",value:function(){return a.a.createElement("div",{className:ze.a.todoList},a.a.createElement(Re,{items:this.state.lists,onChangeTextField:this.onChangeTextField,onClickCompletedCheckbox:this.onClickCompletedCheckbox,onDeleteTodoListItem:this.onDeleteTodoListItem}),a.a.createElement(Ue,{onChangeForm:this.addTodoItem}))}}]),t}(o.Component),Ye=qe,Ge=n(249),Je=n.n(Ge),Ze=function(e){var t=e.getList;return a.a.createElement("div",{className:Je.a.listWrap},a.a.createElement(Ye,{returningItems:function(e){return t({lists:e})}}))},Qe=function(e){return 0===e.length||""==e.replace(/\s/g,"")?null:e},$e=n(53),et=n.n($e);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ot=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={progress:0,currentColor:"#ffffff",note:{fixMark:!1}},n.onClickFixMark=function(){n.setState(function(e){return{note:nt({},e.note,{fixMark:!e.note.fixMark})}})},n.onClickAddBtn=function(){var e=n.props.input;e?_(e,function(e,t){n.setState(function(o){var a=nt({},o.note,{imgWidth:e,imgHeight:t});n.props.onClickAddBtn(a)})}):n.props.onClickAddBtn(n.state.note)},n.onDelete=function(){n.props.setInput(null)},n.getColor=function(e){n.setState({currentColor:e}),n.props.setData({bgColor:e})},n.getTitle=function(e){var t=Qe(e),o=null===t?null:{title:t};n.props.setData(o)},n.getText=function(e){var t=Qe(e),o=null===t?null:{text:t};n.props.setData(o)},n.getList=function(e){0===e.length?n.props.setData(null):n.props.setData(e)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this,n=[{name:"addImg",addImg:function(e){return t.props.setInput(e)}},{name:"color",currentColor:this.state.currentColor,getColor:function(e){return t.getColor(e)}}];switch(this.props.view){case"note":e=a.a.createElement(Me,{getText:this.getText});break;case"list":e=a.a.createElement(Ze,{getList:this.getList})}return a.a.createElement(a.a.Fragment,null,a.a.createElement(we,{input:this.props.input,onDelete:this.onDelete}),a.a.createElement(fe,{getTitle:this.getTitle,textareaClass:et.a.title}),a.a.createElement("div",{className:et.a.fixMark},a.a.createElement(he,{check:this.state.note.fixMark,onClick:this.onClickFixMark})),e,a.a.createElement("div",{className:et.a.bottomPanel},a.a.createElement("div",{className:et.a.bottomPanelBox},a.a.createElement(re,{panels:n,noteBottomClass:et.a.noteBottom})),a.a.createElement(ke,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:this.onClickAddBtn})))}}]),t}(o.Component),at=n(54),rt=n.n(at),it=function(e){var t=e.setPanelView;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:rt.a.textarea,onClick:function(){return t("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0430\u2026"),a.a.createElement("div",{className:K()(rt.a.icon,rt.a.listIcon),onClick:function(){return t("list")}},a.a.createElement(Z,{tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",onClick:function(){return t("list")}},a.a.createElement("i",{className:"far fa-check-square"}))),a.a.createElement("div",{className:K()(rt.a.icon,rt.a.imgIcon)},a.a.createElement(ee,{onChangeFile:function(e){return t("note",e)},tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0442\u043e\u0437\u0430\u043c\u0435\u0442\u043a\u0443"},a.a.createElement("i",{className:"far fa-image"}))))},ct=n(32),st=function(e){return function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(u.a)(this,Object(p.a)(n).call(this,e))).setWrapperRef=t.setWrapperRef.bind(Object(ct.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(ct.a)(t)),t.state={show:!0},t}return Object(m.a)(n,t),Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)?this.setState({show:!1}):this.setState({show:!0})}},{key:"render",value:function(){var t=this.state.show;return a.a.createElement(e,Object.assign({},this.props,{show:t,hhhhh:this.setWrapperRef}))}}]),n}(o.Component)};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).defaultNoteView={bgColor:"#ffffff"},n.state={emptyField:!0,input:null,view:"",note:ut({},n.defaultNoteView)},n.onClickAddBtn=function(e){var t;!n.state.emptyField||n.state.input?(n.state.input&&(t=n.state.input.files[0]),n.setState(function(o){var a=ut({},o.note,{},e,{type:o.view});return n.props.addNote(a,t),{note:a=ut({},n.defaultNoteView)}}),n.setState({emptyField:!0}),n.changeView("")):alert("\u0412\u0441\u0435 \u043f\u043e\u043b\u044f \u043f\u0443\u0441\u0442\u044b\u0435!")},n.changeView=function(e,t){t&&n.setState({emptyField:!1}),n.setState({view:e,input:t})},n.setData=function(e){if(null===e)return n.setState({emptyField:!0});n.setState({emptyField:!1,note:ut({},n.state.note,{},e)})},n.setInput=function(e){n.setState({input:e})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.show!==e.show&&(this.setState(function(e){return{emptyField:!0,input:null,view:"",note:ut({},n.defaultNoteView)}}),this.changeView(""))}},{key:"render",value:function(){return a.a.createElement("div",{className:K()(le.a.notesPanel,le.a[this.state.view])},a.a.createElement("div",{className:le.a.notesPanelWrap,ref:this.props.hhhhh,style:{backgroundColor:this.state.note.bgColor}},""===this.state.view&&a.a.createElement(it,{setPanelView:this.changeView}),""!==this.state.view&&a.a.createElement(ot,{onClickAddBtn:this.onClickAddBtn,setInput:this.setInput,input:this.state.input,setData:this.setData,view:this.state.view})))}}]),t}(o.Component),mt=Object(M.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes}},function(e){return{addNote:function(t,n){return e(y(t,n))}}}),Object(D.firestoreConnect)([{collection:"notes"}]),st)(pt),dt=n(22),ft=n.n(dt),ht=n(99),gt=n.n(ht),vt=n(250),bt=n.n(vt),_t={content:{maxWidth:"600px",width:"100%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",zIndex:"100",padding:"0",overflow:"visible",borderRadius:"8px",border:"none"}},Ot=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(gt.a,{isOpen:this.props.isOpen,style:_t,overlayClassName:bt.a.overlay,onRequestClose:this.props.onRequestClose},this.props.children)}}]),t}(o.Component),kt=n(45),xt=n.n(kt),Nt=n(251),Ct=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={currentColor:n.props.note.bgColor,picture:null,input:null},n.closeModal=function(e){e.stopPropagation();var t=n.state.input;n.props.note.url&&null===t?n.props.setData({input:"delImg"}):t&&"object"===typeof t?n.props.setData({input:"replaceImage",inputTarget:t}):n.props.setData({}),n.props.modal(!1)},n.cloneNote=function(){var e=Object(c.a)({},n.props.note);delete e.id,n.props.addNote(e)},n.getColor=function(e){n.setState({currentColor:e}),n.props.updateNote(n.props.note.id,{bgColor:e})},n.onDelete=function(){return n.setState({input:null})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){e.modalIsOpen!==this.props.modalIsOpen&&(this.props.note.url?this.setState({input:this.props.note.url}):this.setState({input:null}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.note,o=t.notes,r=t.deleteNote,i=t.updateNote,c=t.previewContent,s=t.modalIsOpen,l=this.state.input,u=[{name:"color",currentColor:n.bgColor,getColor:function(t){return e.getColor(t)}},{name:"addImg",addImg:function(t){return e.setState({input:t})}},{name:"delNote",onClickDelNoteBtn:function(){return r(n,o)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}];return a.a.createElement("div",null,c,a.a.createElement(Ot,{isOpen:s,onRequestClose:this.closeModal},a.a.createElement("div",{className:xt.a.modalWrap,style:{backgroundColor:n.bgColor}},a.a.createElement(we,{input:l,onDelete:this.onDelete}),a.a.createElement("div",{className:xt.a.fixMark},a.a.createElement(he,{check:n.fixMark,onClick:function(){return i(n.id,{fixMark:!n.fixMark})}})),a.a.createElement("div",null,this.props.children,a.a.createElement("div",{className:xt.a.date},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u043e: ",Nt(n.time).format("LTS"))),a.a.createElement("div",{className:xt.a.bottomPanel},a.a.createElement("div",{className:xt.a.bottomPanelBox},a.a.createElement(re,{panels:u})),a.a.createElement("div",{className:xt.a.btns},a.a.createElement(Oe,{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:this.closeModal}))))))}}]),t}(o.Component),Et=Object(M.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes,markNotes:e.notesReducer.markNotes}},function(e){return{addImage:function(t,n){return e(E(t,n))},updateNote:function(t,n){return e(I(t,n))},addMarkNote:function(t){return e(C(t))},addNote:function(t){return e(y(t))},deleteNote:function(t,n){return e(j(t,n))},delImg:function(t){return e(w(t))}}}),Object(D.firestoreConnect)([{collection:"notes"}]))(Ct),yt=n(55),jt=n.n(yt);function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Pt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={note:{title:n.props.note.title||"",text:n.props.note.text||""}},n.onChangeText=function(e){n.setState(function(t){return{note:It({},t.note,{text:e})}})},n.onChangeTitle=function(e){n.setState(function(t){return{note:It({},t.note,{title:e})}})},n.setData=function(e){var t=""===n.state.note.title&&""===n.state.note.text;n.props.setData(It({},e,{isEmptyFields:t})),t||n.props.updateNote(n.props.note.id,It({},n.state.note,{time:+new Date}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",{className:jt.a.note},a.a.createElement("div",{className:jt.a.main},this.props.note.title&&a.a.createElement("div",{className:jt.a.title},this.props.note.title),this.props.note.text&&a.a.createElement("div",{className:jt.a.text},this.props.note.text)));return a.a.createElement(Et,{note:this.props.note,previewContent:e,modalIsOpen:this.props.modalIsOpen,modal:this.props.modal,setData:this.setData},a.a.createElement(fe,{value:this.props.note.title,getTitle:this.onChangeTitle,textareaClass:jt.a.modalTitle}),a.a.createElement(Me,{value:this.props.note.text,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",getText:this.onChangeText}))}}]),t}(o.Component),Mt=Object(M.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes,markNotes:e.notesReducer.markNotes}},function(e){return{delImg:function(t){return e(w(t))},addImage:function(t,n){return e(E(t,n))},updateNote:function(t,n){return e(I(t,n))},addMarkNote:function(t){return e(C(t))},addNote:function(t){return e(y(t))},deleteNote:function(t,n){return e(j(t,n))}}}),Object(D.firestoreConnect)([{collection:"notes"}]))(Pt),Dt=n(105),Tt=n.n(Dt);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Lt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={modalIsOpen:!1,note:{lists:n.props.note.lists}},n.onChangeTitle=function(e){n.setState(function(t){return{note:Bt({},t.note,{title:e})}})},n.returningItems=function(e){n.setState({note:Bt({},n.state.note,{lists:e})})},n.setData=function(e){var t=0===n.state.note.lists.length;n.props.setData(Bt({},e,{isEmptyFields:t})),t||n.props.updateNote(n.props.note.id,Bt({},n.state.note,{time:+new Date}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=a.a.createElement("div",null,this.props.note.title&&a.a.createElement("div",{className:Tt.a.title},this.props.note.title),this.props.note.lists&&a.a.createElement("div",{className:Tt.a.lists},a.a.createElement(Ae,{items:this.props.note.lists,viewMode:"only-view"})));return a.a.createElement(Et,{note:this.props.note,previewContent:e,modalIsOpen:this.props.modalIsOpen,modal:this.props.modal,setData:this.setData},a.a.createElement(fe,{value:this.props.note.title,getTitle:this.onChangeTitle,textareaClass:Tt.a.modalTitle}),a.a.createElement(qe,{returningItems:this.returningItems,lists:this.state.note.lists}))}}]),t}(o.Component),Ft=n(252),At=n.n(Ft),Rt=n(106),Wt=n.n(Rt),Ht=function(e){var t=e.classes?e.classes.map(function(e){return Wt.a[e]}):[];return a.a.createElement("div",{className:Wt.a.spinner},a.a.createElement("img",{className:K()(Wt.a.spinnerImg,t),src:At.a,alt:""}))},Ut=n(159),Vt=n.n(Ut),zt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={loader:!0,height:null},n.calcHeight=function(){var e=n.props.note,t=e.imgHeight,o=e.imgWidth,a=n.props.width*(t/o);n.setState({height:a})},n.onLoad=function(e){n.props.onLoad(!1),n.setState({loader:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state.loader),this.calcHeight()}},{key:"componentDidUpdate",value:function(e){this.props.note.imgHeight!==e.note.imgHeight&&this.calcHeight(),this.props.width!==e.width&&this.calcHeight()}},{key:"render",value:function(){return a.a.createElement("div",{className:Vt.a.imgBox,style:{height:this.state.height}},this.props.note.url&&a.a.createElement("img",Object(f.a)({className:"img-fluid",src:this.props.note.url,onLoad:this.onLoad,onError:this.onError},"className",Vt.a.img)),a.a.createElement(Ht,{classes:["small"]}))}}]),t}(o.Component),Kt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).box=a.a.createRef(),n.state={boxWidth:null},n.updateDimensions=function(){n.box&&n.setState({boxWidth:n.box.current.offsetWidth})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({boxWidth:this.box.current.offsetWidth}),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"componentWillUnmount",value:function(){this.box=null,window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){return a.a.createElement("div",{className:"img-height-loader",ref:this.box},this.props.note.imgHeight&&a.a.createElement(zt,{note:this.props.note,width:this.state.boxWidth,onLoad:this.props.onLoad}))}}]),t}(o.Component),Xt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={currentColor:n.props.note.bgColor,mark:!1,modalIsOpen:!1,loader:!0},n.onClickMark=function(){n.props.addMarkNote(n.props.note)},n.cloneNote=function(){var e=Object(c.a)({},n.props.note);delete e.id,n.props.addNote(e)},n.setData=function(e){switch(e.input){case"delImg":e.isEmptyFields?n.props.deleteNote(n.props.note,n.props.notes):(n.props.delImg(n.props.note),n.props.updateNote(n.props.note.id,{imgHeight:null,imgWidth:null}));break;case"replaceImage":n.addImage(e.inputTarget)}},n.getColor=function(e){n.setState({currentColor:e}),n.props.updateNote(n.props.note.id,{bgColor:e})},n.modal=function(e){return n.setState({modalIsOpen:e})},n.onClickFixMark=function(){n.props.updateNote(n.props.note.id,{fixMark:!n.props.note.fixMark})},n.onLoad=function(e){n.setState({loader:e})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.note.imgHeight||this.setState({loader:!1})}},{key:"addImage",value:function(e){var t=this,n=e.files[0];this.props.note.imgHeight?this.props.replaceImage(this.props.note,e):_(e,function(e,o){t.props.updateNote(t.props.note.id,{imgWidth:e,imgHeight:o}),t.props.addImage(n,t.props.note.id)})}},{key:"buildMain",value:function(){switch(this.props.note.type){case"note":return a.a.createElement(Mt,{note:this.props.note,modal:this.modal,modalIsOpen:this.state.modalIsOpen,setData:this.setData});case"list":return a.a.createElement(Lt,{note:this.props.note,updateNote:this.props.updateNote,modalIsOpen:this.state.modalIsOpen,setData:this.setData,modal:this.modal});default:return a.a.createElement("div",null,"no note")}}},{key:"render",value:function(){var e=this,t=this.props,n=t.note,o=t.notes,r=t.deleteNote,i=this.state,c=i.mark,s=i.modalIsOpen,l=i.currentColor,u=i.loader,p="relative",m=null,d=[{name:"color",currentColor:l,getColor:function(t){return e.getColor(t)}},{name:"addImg",addImg:function(t){return e.addImage(t)}},{name:"delNote",onClickDelNoteBtn:function(){return r(n,o)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}];return n.imgHeight?p="absolute":m=ft.a.paddingTop,n.text||n.title||n.lists?(p="relative",m=ft.a.paddingTop):p="absolute",n.imgHeight&&(n.text||n.title||n.lists)&&(m=ft.a.paddingTop),a.a.createElement("div",{className:K()(ft.a.notePreview,c&&ft.a.activeNote,s&&ft.a.openModal,u&&ft.a.loader),style:{backgroundColor:n.bgColor},onClick:function(){return e.modal(!0)}},a.a.createElement("div",{className:ft.a.notePreviewWrap},a.a.createElement(Kt,{note:n,onLoad:this.onLoad}),a.a.createElement("div",{className:ft.a.fixMark},a.a.createElement(oe,{check:n.fixMark,onClick:this.onClickFixMark})),a.a.createElement("div",{className:K()(ft.a.main,m)},this.buildMain())),a.a.createElement("div",{className:K()(ft.a.NoteBottomPanel,ft.a[p])},a.a.createElement(ae,{panels:d})))}}]),t}(o.Component),qt=Object(M.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes,markNotes:e.notesReducer.markNotes}},function(e){return{delImg:function(t){return e(w(t))},addImage:function(t,n){return e(E(t,n))},updateNote:function(t,n){return e(I(t,n))},addMarkNote:function(t){return e(C(t))},addNote:function(t){return e(y(t))},deleteNote:function(t,n){return e(j(t,n))},replaceImage:function(t,n,o,a){return e(function(e,t){return function(n,o,a){var r=a.getFirestore,i=a.storage,c=e.id;w(e,function(){_(t,function(e,a){I(c,{imgWidth:e,imgHeight:a})(n,o,{getFirestore:r}),E(t.files[0],c)(n,o,{getFirestore:r,storage:i})})})(n,o,{getFirestore:r,storage:i})}}(t,n))}}}),Object(D.firestoreConnect)([{collection:"notes"}]))(Xt),Yt=Ht,Gt=n(27),Jt=n.n(Gt),Zt=n(253),Qt=n.n(Zt),$t=Object(M.d)(Object(d.b)(function(e){return{notes:e.firestore.ordered.notes}},null),Object(D.firestoreConnect)([{collection:"notes"}]))(function(e){var t={transitionDuration:0},n={background:".my-bg-image-el"},o=e.notes,r=[],i=[],c=function(e){return a.a.createElement(Qt.a,{className:K()(Jt.a.npWrap,""),options:t,disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:n,onLayoutComplete:function(e){}},e)};if(o){var s=Object(h.a)(o).slice(0);s.sort(function(e,t){return e.time>t.time?-1:e.time==t.time?0:e.time<t.time?1:void 0});var l=function(e){return a.a.createElement(qt,{key:e.id,note:e})};r=s.filter(function(e){return!e.fixMark}).map(l),i=s.filter(function(e){return e.fixMark}).map(l)}return a.a.createElement("div",{className:Jt.a.allNotes},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:K()(Jt.a.main,Jt.a.notesList)},void 0===o&&a.a.createElement(Yt,{classes:["big"]}),void 0!==o&&(0!==o.length?a.a.createElement(a.a.Fragment,null,0!==i.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Jt.a.fixNotesBox},a.a.createElement("div",{className:Jt.a.notesListTitle},"\u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),c(i))),0!==i.length&&0!==r.length&&a.a.createElement("div",{className:Jt.a.notesListTitle},"\u0414\u0440\u0443\u0433\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),0!==r.length&&c(r)):a.a.createElement("div",{className:Jt.a.emptyNotesBox},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043c\u0435\u0442\u043e\u043a \u043f\u0443\u0441\u0442...")))))}),en=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1,info:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){var n=t.componentStack;console.log("componentStack"),console.log(n),this.setState({hasError:!0,info:n})}},{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",null,this.state.info):this.props.children}}]),t}(o.Component),tn=n(160),nn=n.n(tn),on=function(){return a.a.createElement(en,null,a.a.createElement("div",{className:nn.a.app},a.a.createElement(ce,null),a.a.createElement("div",{className:nn.a.main},a.a.createElement(mt,null),a.a.createElement($t,null))))},an=n(73),rn=n(254),cn=Object(M.c)({notesReducer:P,firestore:an.firestoreReducer}),sn=Object(M.e)(cn,Object(M.d)(Object(M.a)(rn.a.withExtraArgument({getFirebase:D.getFirebase,getFirestore:an.getFirestore,storage:b})),Object(D.reactReduxFirebase)(v.a),Object(an.reduxFirestore)(v.a)));window.store=sn.getState();var ln=sn;gt.a.setAppElement("#root"),i.a.render(a.a.createElement(d.a,{store:ln},a.a.createElement(on,null)),document.getElementById("root"))},53:function(e,t,n){e.exports={bottomPanel:"note-panel-view_bottomPanel__29KVY",bottomPanelBox:"note-panel-view_bottomPanelBox__1rYJA",fixMark:"note-panel-view_fixMark__2gpvP",img:"note-panel-view_img__3FAgV",deleteIcon:"note-panel-view_deleteIcon__3MsXU",pictureBox:"note-panel-view_pictureBox__3p5bR",picturePreview:"note-panel-view_picturePreview__2pPmS",title:"note-panel-view_title__xeoI8",noteBottom:"note-panel-view_noteBottom__czL6B"}},54:function(e,t,n){e.exports={icon:"default-panel_icon__2F9Sf",imgIcon:"default-panel_imgIcon__r8BZi",listIcon:"default-panel_listIcon__3EB_U",textarea:"default-panel_textarea__q9SVX"}},55:function(e,t,n){e.exports={img:"simple-note-preview_img__3UylK",bottomPanelBox:"simple-note-preview_bottomPanelBox__1qXqN",bottomPanel:"simple-note-preview_bottomPanel__222qF",noteWrap:"simple-note-preview_noteWrap__1LOSl",date:"simple-note-preview_date__gxGPL",fixMark:"simple-note-preview_fixMark__Iui8j",icon:"simple-note-preview_icon__25tfi",imageBox:"simple-note-preview_imageBox__3BcK2",title:"simple-note-preview_title__1FAu-",text:"simple-note-preview_text__1k0HK",modalTitle:"simple-note-preview_modalTitle__21gWi"}}},[[255,1,2]]]);
//# sourceMappingURL=main.36de6c2f.chunk.js.map