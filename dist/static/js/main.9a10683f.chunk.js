(window.webpackJsonpkeep=window.webpackJsonpkeep||[]).push([[0],{103:function(e,t,n){e.exports={logo:"logo_logo__2wzac",logoIcon:"logo_logoIcon__-1f5I",logoName:"logo_logoName__1SeB_"}},104:function(e,t,n){e.exports={deleteIcon:"picture-preview-box_deleteIcon__3XRic",pictureBox:"picture-preview-box_pictureBox__1VlEt",picturePreview:"picture-preview-box_picturePreview__JV-Ly"}},105:function(e,t,n){e.exports={form:"form_form__VbASh",formInput:"form_formInput__20PVr",icon:"form_icon__17ICG"}},106:function(e,t,n){e.exports={notesPanel:"add-notes-panel_notesPanel__2PvZk",notesPanelWrap:"add-notes-panel_notesPanelWrap__3vGxa",img:"add-notes-panel_img__1IMmn"}},107:function(e,t,n){e.exports={title:"list-note-preview_title__19oMh",lists:"list-note-preview_lists__31e9C",modalTitle:"list-note-preview_modalTitle__3kEWb"}},108:function(e,t,n){e.exports={spinner:"spinner_spinner__1fUKb",small:"spinner_small__192s5",big:"spinner_big__2ug0x"}},156:function(e,t,n){e.exports={clickIcon:"click-icon_clickIcon__2kZmn"}},157:function(e,t,n){e.exports={input:"input-file_input__2UxNG",uploadFile:"input-file_uploadFile__aLu6H"}},158:function(e,t,n){e.exports={fixMark:"fix-mark_fixMark__3VFm9",check:"fix-mark_check__1eyTu"}},159:function(e,t,n){e.exports={header:"header_header__1c1q6",main:"header_main__2l3h6"}},160:function(e,t,n){e.exports={textarea:"panel-title_textarea__zDjU0"}},161:function(e,t,n){e.exports={img:"picture-preview_img__jZr9U"}},162:function(e,t,n){e.exports={notePanel:"note-panel_notePanel__1t2YI",textarea:"note-panel_textarea__2rSeb"}},163:function(e,t,n){e.exports={listItem:"list-items_listItem__376Lu"}},164:function(e,t,n){e.exports={imgBox:"img-box_imgBox__2xyMy",img:"img-box_img__1mhY4"}},165:function(e,t,n){e.exports={main:"app_main__3o5VZ"}},22:function(e,t,n){e.exports={selectedMark:"note-preview_selectedMark__1dHjp",main:"note-preview_main__2uq4N",paddingTop:"note-preview_paddingTop__1Zijp",paddingBottom:"note-preview_paddingBottom__1ouiZ",NoteBottomPanel:"note-preview_NoteBottomPanel__24Sqr",fixMark:"note-preview_fixMark__2jbx2",notePreview:"note-preview_notePreview__2ljV2",activeNote:"note-preview_activeNote__2AqOA",active:"note-preview_active__136CD",notePreviewWrap:"note-preview_notePreviewWrap__2FN0c",absolute:"note-preview_absolute__mh4cn",openModal:"note-preview_openModal__Tp6u9",loader:"note-preview_loader__1Y0vb"}},250:function(e,t,n){e.exports=n.p+"static/media/logo.d12c0d77.png"},251:function(e,t,n){e.exports={btn:"btn_btn__15QAj",btn_gray:"btn_btn_gray__3lwGL",btn_block:"btn_btn_block__fEyrw"}},252:function(e,t,n){e.exports={btn:"add-btn_btn__1zID0"}},253:function(e,t,n){},254:function(e,t,n){},257:function(e,t,n){e.exports={overlay:"modal-box_overlay__3jRGs"}},258:function(e,t,n){e.exports=n.p+"static/media/puff.13f271c7.svg"},259:function(e,t,n){e.exports=n(493)},26:function(e,t,n){e.exports={chooseColor:"choose-color_chooseColor__I3sn7",title:"choose-color_title__2l2HI",box:"choose-color_box__2SyYQ",positionTopLeft:"choose-color_positionTopLeft__3f0FI",positionBottomLeft:"choose-color_positionBottomLeft__2RU5b",list:"choose-color_list__2opX-",listItem:"choose-color_listItem__8sZiG",mark:"choose-color_mark__2p12M",currentColor:"choose-color_currentColor__1lMYL"}},28:function(e,t,n){e.exports={emptyNotesBox:"all-notes_emptyNotesBox__3uzN7",notesList:"all-notes_notesList__2NtRW",npWrap:"all-notes_npWrap__tTnBd",notesListTitle:"all-notes_notesListTitle__MB3wH",fixNotesBox:"all-notes_fixNotesBox__3q5rl"}},43:function(e,t,n){e.exports={noteBottomPanel:"note-bottom-panel_noteBottomPanel__1jQ6k",icon:"note-bottom-panel_icon__1P3QP","choose-color":"note-bottom-panel_choose-color__1mAVn",icon_3:"note-bottom-panel_icon_3__2AHKh",bgColorBox:"note-bottom-panel_bgColorBox__X58Mj"}},44:function(e,t,n){e.exports={listItem:"todo-list-item_listItem__1jPMX",checkbox:"todo-list-item_checkbox__1S2Bp",checkboxMark:"todo-list-item_checkboxMark__1NvYX",input:"todo-list-item_input__2Y7QU",closeBtn:"todo-list-item_closeBtn__2PQAX",active:"todo-list-item_active__1l40O"}},45:function(e,t,n){e.exports={img:"modal-container_img__XEWoW",bottomPanelBox:"modal-container_bottomPanelBox__3ccMY",bottomPanel:"modal-container_bottomPanel__XlKJV",noteWrap:"modal-container_noteWrap__34lo5",date:"modal-container_date__3DHwf",fixMark:"modal-container_fixMark__3mInW",icon:"modal-container_icon__16UJ4",imageBox:"modal-container_imageBox__3zXBJ",modalWrap:"modal-container_modalWrap__1rBBS",btns:"modal-container_btns__13yGI",cancelBtn:"modal-container_cancelBtn__22evz"}},492:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(152),i=n.n(r),c=n(23),s=n(11),l=n(249),u=(n(268),n(72)),p=n(21),m=n(73),d=n.n(m);n(444),n(447),n(494);d.a.initializeApp({apiKey:"AIzaSyAzzRGnQXaBoFF9uJnEXRmWPeg91_wSpMY",authDomain:"keep-be68c.firebaseapp.com",databaseURL:"https://keep-be68c.firebaseio.com",projectId:"keep-be68c",storageBucket:"keep-be68c.appspot.com",messagingSenderId:"1046598729377",appId:"1:1046598729377:web:43bcad6a311acbe1"}),d.a.firestore().settings({timestampsInSnapshots:!0});var f=d.a.storage(),h=n(13);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b={markNotes:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_MARKNOTES_REQUEST":return{markNotes:[]};case"ADD_MARK_NOTE":return g({},e,{markNotes:t.payload});default:return e}},O=Object(s.c)({notes:_,firestore:u.firestoreReducer});var k=n(2),x=n(3),j=n(5),y=n(4),E=n(6),C=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1,info:null},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidCatch",value:function(e,t){var n=t.componentStack;console.log("componentStack"),console.log(n),this.setState({hasError:!0,info:n})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("div",null,this.state.info):this.props.children}}]),t}(a.Component),w=n(17),N=n.n(w),I=n(33),P=function(e){return new Promise(function(t,n){var a=e.files[0];if(a){var o=window.URL||window.webkitURL,r=new Image;r.onload=function(){t({imgWidth:this.width,imgHeight:this.height})},r.src=o.createObjectURL(a)}})};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S={time:+new Date},T=function(e){return(new Date).getTime()+"."+e.name.split(".").pop()},B=function(){return{type:"CLEAR_MARKNOTES_REQUEST"}},L=function(e){return{type:"ADD_MARK_NOTE",payload:e}},F=function(e,t,n,a){return new Promise(function(a,o){e.ref("images/".concat(n)).put(t).on("state_changed",function(e){},function(e){alert(e.message_)},a)})},A=function(e,t){return function(){var n=Object(I.a)(N.a.mark(function n(a,o,r){var i,c;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.getFirestore,i=r.storage,n.next=3,i.ref("images").child(e).getDownloadURL();case 3:c=n.sent,a(V(t,{url:c,imgName:e}));case 5:case"end":return n.stop()}},n)}));return function(e,t,a){return n.apply(this,arguments)}}()},W=function(e,t){return function(){var n=Object(I.a)(N.a.mark(function n(a,o,r){var i,c;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.getFirestore,i=r.storage,c=T(e),n.next=4,F(i,e,c);case 4:a(A(c,t));case 5:case"end":return n.stop()}},n)}));return function(e,t,a){return n.apply(this,arguments)}}()},R=function(e,t){return function(){var n=Object(I.a)(N.a.mark(function n(a,o,r){var i,c,s,l;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.getFirestore,c=M({},S,{},e),n.next=4,i().collection("notes").add(c);case 4:s=n.sent,l=s.id,void 0!==t&&a(W(t,l));case 7:case"end":return n.stop()}},n)}));return function(e,t,a){return n.apply(this,arguments)}}()},H=function(e,t){return function(n,a,o){var r=o.getFirestore,i=o.storage;e.imgName&&(t.filter(function(t){return t.imgName===e.imgName}).length<2&&U(e,i));r().delete({collection:"notes",doc:e.id})}},U=function(e){return function(t,n,a){a.getFirestore;var o=a.storage;return new Promise(function(n,a){t(V(e.id,{url:null,imgName:null})),o.ref("images/".concat(e.imgName)).delete().then(function(){return n()})})}},V=function(e,t){return function(n,a,o){(0,o.getFirestore)().update({collection:"notes",doc:e},t)}},z=n(155),K=Object(z.a)(function(e){return e.firestore.ordered.notes},function(e){return e}),X=Object(z.a)(function(e){return e.notes.markNotes},function(e){return e}),q=n(250),Y=n.n(q),Q=n(103),G=n.n(Q),J=function(){return o.a.createElement("div",{className:G.a.logo},o.a.createElement("div",{className:G.a.logoIcon},o.a.createElement("img",{src:Y.a,className:"img-fluid"})),o.a.createElement("div",{className:G.a.logoName},"Keep clone"))},Z=n(20),$=n(8),ee=n.n($),te=n(26),ne=n.n(te),ae=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={isShowList:!1},n.onMouseEnter=function(){n.setState({isShowList:!0})},n.onMouseLeave=function(){n.setState({isShowList:!1})},n.getColors=function(){return["#ffffff","#f28b82","#fbbc04","#fff475","#ccff90","#a7ffeb","#cbf0f8","#aecbfa","#d7aefb","#fdcfe8","#e6c9a8","#e8eaed"].map(function(e,t){var a=e,r=null;return n.props.currentColor===e&&(r=ne.a.currentColor),0===t&&(a="#eee"),o.a.createElement("li",{key:e,className:ee()(ne.a.listItem,r),style:{backgroundColor:e,borderColor:a},onClick:function(t){t.stopPropagation(),n.props.getColor(e)}},r&&o.a.createElement("i",{className:ee()("fas fa-check",ne.a.mark)}))})},n.getList=function(){return n.state.isShowList&&o.a.createElement("div",{className:ee()(ne.a.box,n.props.position?ne.a[n.props.position]:ne.a.positionTopLeft)},o.a.createElement("ul",{className:ne.a.list},n.getColors()))},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:ne.a.chooseColor,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.a.createElement("span",{className:ne.a.title},o.a.createElement("i",{className:"fas fa-palette"})),this.getList())}}]),t}(a.Component),oe=n(156),re=n.n(oe),ie=n(42),ce=n.n(ie),se=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(e){e.stopPropagation(),n.props.onClick()},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tooltipText;return e.tooltip?o.a.createElement("div",{className:re.a.clickIcon,onClick:this.onClick,"data-tip":t},this.props.children,o.a.createElement(ce.a,{place:"bottom",type:"dark",effect:"solid"})):o.a.createElement("div",{className:re.a.clickIcon,onClick:this.onClick},this.props.children)}}]),t}(a.Component);se.defaultProps={tooltip:!0,tooltipText:"tooltip"};var le=se,ue=n(157),pe=n.n(ue),me=function(e){var t=e.tooltipText;return o.a.createElement("div",{"data-tip":t,onClick:function(e){return e.stopPropagation()}},o.a.createElement("label",{className:pe.a.uploadFile},e.children,o.a.createElement("input",{className:pe.a.input,type:"file",onChange:function(t){var n=t.target.cloneNode(!0);n.files[0]&&e.onChangeFile(n)}}),t&&o.a.createElement(ce.a,{place:"bottom",type:"dark",effect:"solid"})))},de=n(158),fe=n.n(de),he=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={checkMark:n.props.check,textMark:n.props.check?"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c":"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c"},n.onClick=function(){n.setState(function(e){var t=e.checkMark;return n.props.onClick(),{checkMark:""===t}})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.state.checkMark?fe.a.check:"";return o.a.createElement("div",{className:ee()(fe.a.fixMark,e),"data-tip":this.state.textMark},o.a.createElement(le,{tooltipText:this.state.textMark,onClick:this.onClick},o.a.createElement("i",{className:"fas fa-thumbtack"})))}}]),t}(a.Component),ve=n(43),ge=n.n(ve),be=function(e){var t=e.panels.map(function(e){switch(e.name){case"color":var t={position:e.position,getColor:e.getColor,currentColor:e.currentColor};return o.a.createElement("div",{key:e.name,className:ge.a.icon,"data-tip":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0432\u0435\u0442"},o.a.createElement(ae,t),o.a.createElement(ce.a,{place:"bottom",type:"dark",effect:"solid"}));case"delNote":var n=e.onClickDelNoteBtn;return o.a.createElement("div",{key:e.name,className:ge.a.icon},o.a.createElement(le,{tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:n},o.a.createElement("i",{className:"far fa-trash-alt"})));case"createClone":var a=e.onClickCreateCloneBtn;return o.a.createElement("div",{key:e.name,className:ge.a.icon},o.a.createElement(le,{tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u043e\u043f\u0438\u044e",onClick:a},o.a.createElement("i",{className:"far fa-clone"})));case"addImg":var r=e.addImg;return o.a.createElement("div",{key:e.name,className:ge.a.icon,"data-tip":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},o.a.createElement(me,{onChangeFile:r},o.a.createElement("i",{className:"far fa-image"})),o.a.createElement(ce.a,{place:"bottom",type:"dark",effect:"solid"}));case"fixMark":var i=e.fixMark,c=e.onClickFixMark;return o.a.createElement("div",{key:e.name,className:ge.a.icon},o.a.createElement(he,{check:i,onClick:c}))}}),n=e.noteBottomClass?e.noteBottomClass:"";return o.a.createElement("div",{className:ee()(ge.a.noteBottomPanel,n)},t)},_e=be,Oe=(n(75),n(159)),ke=n.n(Oe),xe=function(e){e.markNotes,e.clearMarkNotes,e.addNote,e.updateNote,e.deleteAllNote;return o.a.createElement("div",{className:ke.a.header},!1,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:ke.a.main},o.a.createElement(J,null))))},je={addMarkNote:L,deleteNote:H,clearMarkNotes:B,deleteAllNote:function(e){return function(t,n,a){var o=a.getFirestore,r=a.storage;t({type:"CLEAR_MARKNOTES_REQUEST"}),e.forEach(function(a){H(a,e)(t,n,{getFirestore:o,storage:r})})}},updateNote:V,addNote:R},ye=Object(s.d)(Object(c.b)(function(e){return{markNotes:X(e)}},je),Object(p.firestoreConnect)([{collection:"projects"},{collection:"notes"}]))(xe),Ee=n(99),Ce=n.n(Ee),we=n(160),Ne=n.n(we),Ie=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).textarea=o.a.createRef(),n.state={title:n.props.value||""},n.onTitleChange=function(e){n.setState({title:e.currentTarget.value}),n.props.getTitle(e.currentTarget.value)},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){Ce()(this.textarea.current)}},{key:"render",value:function(){this.props.textareaClass&&this.props.textareaClass;return o.a.createElement("div",{className:Ne.a.panelTitle},o.a.createElement("textarea",{className:ee()(Ne.a.textarea,this.props.textareaClass),onChange:this.onTitleChange,value:this.state.title,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",ref:this.textarea}))}}]),t}(a.Component),Pe=he,De=n(251),Me=n.n(De),Se=n(252),Te=n.n(Se),Be=function(e){var t=e.text,n=e.onClick;return o.a.createElement("div",{className:"".concat(Me.a.btn," ").concat(Te.a.btn),role:"button",onClick:n},t)},Le=Be,Fe=function(e,t){if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e.files[0])}},Ae=n(161),We=n.n(Ae),Re=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={picture:null},n.setImgPreview=function(e){Fe(e,function(e){n.setState({picture:e})})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.input;"string"===typeof e?this.setState({picture:e}):this.setImgPreview(e)}},{key:"componentDidUpdate",value:function(e,t){null===e.input&&this.props.input&&this.setImgPreview(this.props.input),null!==e.input&&"string"!==typeof this.props.input&&this.setImgPreview(this.props.input)}},{key:"render",value:function(){return o.a.createElement("div",{className:We.a.pictureBox},this.state.picture&&o.a.createElement("div",null,o.a.createElement("img",{className:ee()("img-fluid",We.a.img),src:this.state.picture,alt:"Uploaded images"})))}}]),t}(a.Component),He=n(104),Ue=n.n(He),Ve=function(e){var t=e.input,n=e.onDelete;return o.a.createElement("div",{className:Ue.a.pictureBox},t&&o.a.createElement("div",{className:Ue.a.picturePreview},o.a.createElement(Re,{input:t})),o.a.createElement("div",{className:Ue.a.deleteIcon},o.a.createElement(le,{onClick:n,tooltipText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"},o.a.createElement("i",{className:"far fa-trash-alt"}))))},ze=n(162),Ke=n.n(ze),Xe=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).input=o.a.createRef(),n.state={value:n.props.value||""},n.onChange=function(e){n.setState({value:e.currentTarget.value}),n.props.getText(e.currentTarget.value)},n.activateEditMode=function(){n.setState({editMode:!0})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){Ce()(this.input.current)}},{key:"deactivateEditMode",value:function(){this.setState({editMode:!1})}},{key:"render",value:function(){return o.a.createElement("div",{className:Ke.a.notePanel},o.a.createElement("textarea",{className:Ke.a.textarea,type:"text",value:this.state.value,placeholder:this.props.placeholder||"\u0417\u0430\u043c\u0435\u0442\u043a\u0430",onChange:this.onChange,ref:this.input}))}}]),t}(a.Component),qe=n(34),Ye=n(74),Qe=n(44),Ge=n.n(Qe),Je=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(j.a)(this,Object(y.a)(t).call(this,e))).input=o.a.createRef(),n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.focus&&this.input.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.checkbox,e.onDeleteTodoListItem),a=e.onChangeTextField,r=e.onClickCompletedCheckbox,i=ee()(Ge.a.listItem,[this.props.className||"",this.props.checkbox?Ge.a.active:""]);return o.a.createElement("li",{className:i},o.a.createElement("div",{className:Ge.a.checkbox,onClick:r},o.a.createElement("i",{className:ee()("fas fa-check",Ge.a.checkboxMark)})),o.a.createElement("input",{className:Ge.a.input,type:"text",value:t,onChange:function(e){return a(e.target.value)},ref:this.input}),o.a.createElement("div",{className:Ge.a.closeBtn,onClick:n},o.a.createElement("i",{className:"fas fa-times"})))}}]),t}(a.Component),Ze=n(163),$e=n.n(Ze),et=function(e){var t=e.items,n=e.onChangeTextField,a=e.onClickCompletedCheckbox,r=e.onDeleteTodoListItem;return o.a.createElement("ul",{className:"list-items ".concat(e.className)}," ",e.viewMode&&"only-view"===e.viewMode?t.map(function(e,t,n){return o.a.createElement(Je,{key:e.id,id:e.id,value:e.value,checkbox:e.checkbox,onDeleteTodoListItem:function(){},onChangeTextField:function(){},onClickCompletedCheckbox:function(){},focus:!1,className:$e.a.listItem})}):t.map(function(e,t,i){var c=t===i.length-1;return o.a.createElement(Je,{key:e.id,id:e.id,value:e.value,checkbox:e.checkbox,onDeleteTodoListItem:function(){r(e.id)},onChangeTextField:function(t){return n(e.id,t)},onClickCompletedCheckbox:function(){return a(e.id)},focus:c,className:$e.a.listItem})})," ")},tt=et,nt=n(105),at=n.n(nt),ot=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},n.onChangeInputText=function(e){n.props.onChangeForm(e.target.value),n.setState({value:""})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:at.a.form},o.a.createElement("div",{className:at.a.icon},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("input",{type:"text",className:at.a.formInput,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",value:this.state.value,onChange:this.onChangeInputText}))}}]),t}(o.a.Component),rt=n(253),it=n.n(rt);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lt=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={itemId:1,lists:[]},n.createTodoItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:n.state.itemId++,value:e,checkbox:!1}},n.onChangeTextField=function(e,t){n.setState(function(a){var o=Object(Ye.a)(a.lists).slice(0),r=o.findIndex(function(t){return t.id===e}),i=[].concat(Object(qe.a)(o.slice(0,r)),[st({},o[r],{value:t})],Object(qe.a)(o.slice(r+1)));return n.props.returningItems(i),{lists:i}})},n.onClickCompletedCheckbox=function(e){n.setState(function(t){var a=Object(Ye.a)(t.lists).slice(0),o=a.findIndex(function(t){return t.id===e}),r=[].concat(Object(qe.a)(a.slice(0,o)),[st({},a[o],{checkbox:!a[o].checkbox})],Object(qe.a)(a.slice(o+1)));return n.props.returningItems(r),{lists:r}})},n.onDeleteTodoListItem=function(e){n.setState(function(t){var a=t.lists.findIndex(function(t){return t.id===e}),o=[].concat(Object(qe.a)(t.lists.slice(0,a)),Object(qe.a)(t.lists.slice(a+1)));return n.props.returningItems(o),{lists:o}})},n.addTodoItem=function(e){n.setState(function(t){var a=[].concat(Object(qe.a)(t.lists),[n.createTodoItem(e)]);return n.props.returningItems(a),{lists:a}})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.lists;if(e){var t=e[e.length-1].id+1;this.setState({lists:e,itemId:t})}}},{key:"render",value:function(){return o.a.createElement("div",{className:it.a.todoList},o.a.createElement(tt,{items:this.state.lists,onChangeTextField:this.onChangeTextField,onClickCompletedCheckbox:this.onClickCompletedCheckbox,onDeleteTodoListItem:this.onDeleteTodoListItem}),o.a.createElement(ot,{onChangeForm:this.addTodoItem}))}}]),t}(a.Component),ut=lt,pt=n(254),mt=n.n(pt),dt=function(e){var t=e.getList;return o.a.createElement("div",{className:mt.a.listWrap},o.a.createElement(ut,{returningItems:function(e){return t({lists:e})}}))},ft=function(e){return 0===e.length||""==e.replace(/\s/g,"")?null:e},ht=n(54),vt=n.n(ht);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _t=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={progress:0,currentColor:"#ffffff",note:{fixMark:!1}},n.onClickFixMark=function(){n.setState(function(e){return{note:bt({},e.note,{fixMark:!e.note.fixMark})}})},n.onClickAddBtn=Object(I.a)(N.a.mark(function e(){var t,a,o,r,i,c;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.input,o=t.onClickAddBtn,!a){e.next=10;break}return e.next=4,P(a);case 4:r=e.sent,i=r.imgWidth,c=r.imgHeight,n.setState(function(e){var t=bt({},e.note,{imgWidth:i,imgHeight:c});o(t)}),e.next=11;break;case 10:o(n.state.note);case 11:case"end":return e.stop()}},e)})),n.onDelete=function(){n.props.setInput(null)},n.getColor=function(e){n.setState({currentColor:e}),n.props.setData({bgColor:e})},n.getTitle=function(e){var t=ft(e),a=null===t?null:{title:t};n.props.setData(a)},n.getText=function(e){var t=ft(e),a=null===t?null:{text:t};n.props.setData(a)},n.getList=function(e){var t=n.props.setData;return 0===e.length?t(null):t(e)},n.getChildren=function(){switch(n.props.view){case"note":return o.a.createElement(Xe,{getText:n.getText});case"list":return o.a.createElement(dt,{getList:n.getList});default:return o.a.createElement("div",null)}},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props.setInput,n=[{name:"addImg",addImg:function(e){return t(e)}},{name:"color",currentColor:this.state.currentColor,getColor:function(t){return e.getColor(t)}}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ve,{input:this.props.input,onDelete:this.onDelete}),o.a.createElement(Ie,{getTitle:this.getTitle,textareaClass:vt.a.title}),o.a.createElement("div",{className:vt.a.fixMark},o.a.createElement(Pe,{check:this.state.note.fixMark,onClick:this.onClickFixMark})),this.getChildren(),o.a.createElement("div",{className:vt.a.bottomPanel},o.a.createElement("div",{className:vt.a.bottomPanelBox},o.a.createElement(_e,{panels:n,noteBottomClass:vt.a.noteBottom})),o.a.createElement(Le,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",onClick:this.onClickAddBtn})))}}]),t}(a.Component),Ot=n(55),kt=n.n(Ot),xt=function(e){var t=e.setPanelView;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:kt.a.textarea,onClick:function(){return t("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0430\u2026"),o.a.createElement("div",{className:ee()(kt.a.icon,kt.a.listIcon),onClick:function(){return t("list")}},o.a.createElement(le,{tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",onClick:function(){return t("list")}},o.a.createElement("i",{className:"far fa-check-square"}))),o.a.createElement("div",{className:ee()(kt.a.icon,kt.a.imgIcon)},o.a.createElement(me,{onChangeFile:function(e){return t("note",e)},tooltipText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u043e\u0442\u043e\u0437\u0430\u043c\u0435\u0442\u043a\u0443"},o.a.createElement("i",{className:"far fa-image"}))))},jt=n(106),yt=n.n(jt);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var wt=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).defaultNoteView={bgColor:"#ffffff"},n.state={emptyField:!0,input:null,view:"",note:Ct({},n.defaultNoteView)},n.onClickAddBtn=function(e){var t;!n.state.emptyField||n.state.input?(n.state.input&&(t=n.state.input.files[0]),n.setState(function(a){var o=Ct({},a.note,{},e,{type:a.view});return n.props.addNote(o,t),{note:o=Ct({},n.defaultNoteView)}}),n.setState({emptyField:!0}),n.changeView("")):alert("\u0412\u0441\u0435 \u043f\u043e\u043b\u044f \u043f\u0443\u0441\u0442\u044b\u0435!")},n.changeView=function(e,t){t&&n.setState({emptyField:!1}),n.setState({view:e,input:t})},n.setData=function(e){if(null===e)return n.setState({emptyField:!0});n.setState({emptyField:!1,note:Ct({},n.state.note,{},e)})},n.setInput=function(e){return n.setState({input:e})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.show!==e.show&&(this.setState(function(e){return{emptyField:!0,input:null,view:"",note:Ct({},n.defaultNoteView)}}),this.changeView(""))}},{key:"render",value:function(){return o.a.createElement("div",{className:ee()(yt.a.notesPanel,yt.a[this.state.view])},o.a.createElement("div",{className:yt.a.notesPanelWrap,ref:this.props.hhhhh,style:{backgroundColor:this.state.note.bgColor}},""===this.state.view&&o.a.createElement(xt,{setPanelView:this.changeView}),""!==this.state.view&&o.a.createElement(_t,{onClickAddBtn:this.onClickAddBtn,setInput:this.setInput,input:this.state.input,setData:this.setData,view:this.state.view})))}}]),t}(a.Component),Nt=n(32),It=function(e){return function(t){function n(e){var t;return Object(k.a)(this,n),(t=Object(j.a)(this,Object(y.a)(n).call(this,e))).setWrapperRef=t.setWrapperRef.bind(Object(Nt.a)(t)),t.handleClickOutside=t.handleClickOutside.bind(Object(Nt.a)(t)),t.state={show:!0},t}return Object(E.a)(n,t),Object(x.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)?this.setState({show:!1}):this.setState({show:!0})}},{key:"render",value:function(){var t=this.state.show;return o.a.createElement(e,Object.assign({},this.props,{show:t,hhhhh:this.setWrapperRef}))}}]),n}(a.Component)},Pt={addNote:R},Dt=Object(s.d)(Object(c.b)(function(e){return{notes:K(e)}},Pt),Object(p.firestoreConnect)([{collection:"notes"}]),It)(wt),Mt=n(255),St=n.n(Mt),Tt=n(256),Bt=n(101),Lt=n.n(Bt),Ft=n(257),At=n.n(Ft),Wt=function(e){var t=e.isOpen,n=e.onRequestClose,a=e.children;return o.a.createElement(Lt.a,{isOpen:t,style:{content:{maxWidth:"600px",width:"100%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",zIndex:"100",padding:"0",overflow:"visible",borderRadius:"8px",border:"none"}},overlayClassName:At.a.overlay,onRequestClose:n},a)},Rt=n(45),Ht=n.n(Rt),Ut=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={currentColor:n.props.note.bgColor,picture:null,input:null},n.closeModal=function(e){e.stopPropagation();var t=n.state.input;n.props.note.url&&null===t?n.props.setData({input:"delImg"}):t&&"object"===typeof t?n.props.setData({input:"replaceImage",inputTarget:t}):n.props.setData({}),n.props.modal(!1)},n.cloneNote=function(){var e=Object(Z.a)({},n.props.note);delete e.id,n.props.addNote(e)},n.getColor=function(e){n.setState({currentColor:e}),n.props.updateNote(n.props.note.id,{bgColor:e})},n.onDelete=function(){return n.setState({input:null})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.modalIsOpen!==this.props.modalIsOpen&&(this.props.note.url?this.setState({input:this.props.note.url}):this.setState({input:null}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.note,a=t.notes,r=t.deleteNote,i=t.updateNote,c=t.previewContent,s=t.modalIsOpen,l=this.state.input,u=[{name:"color",currentColor:n.bgColor,getColor:function(t){return e.getColor(t)}},{name:"addImg",addImg:function(t){return e.setState({input:t})}},{name:"delNote",onClickDelNoteBtn:function(){return r(n,a)}},{name:"createClone",onClickCreateCloneBtn:function(){return e.cloneNote()}}];return o.a.createElement("div",null,c,o.a.createElement(Wt,{isOpen:s,onRequestClose:this.closeModal},o.a.createElement("div",{className:Ht.a.modalWrap,style:{backgroundColor:n.bgColor}},o.a.createElement(Ve,{input:l,onDelete:this.onDelete}),o.a.createElement("div",{className:Ht.a.fixMark},o.a.createElement(Pe,{check:n.fixMark,onClick:function(){return i(n.id,{fixMark:!n.fixMark})}})),o.a.createElement("div",null,this.props.children,o.a.createElement("div",{className:Ht.a.date},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u043e: ",Tt(n.time).format("LTS"))),o.a.createElement("div",{className:Ht.a.bottomPanel},o.a.createElement("div",{className:Ht.a.bottomPanelBox},o.a.createElement(_e,{panels:u})),o.a.createElement("div",{className:Ht.a.btns},o.a.createElement(Be,{text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:this.closeModal}))))))}}]),t}(a.Component),Vt={addImage:W,updateNote:V,addMarkNote:L,addNote:R,deleteNote:H,delImg:U},zt=Object(s.d)(Object(c.b)(function(e){return{notes:K(e),markNotes:X(e)}},Vt),Object(p.firestoreConnect)([{collection:"notes"}]))(Ut),Kt=n(56),Xt=n.n(Kt);function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qt=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={note:{title:n.props.note.title||"",text:n.props.note.text||""}},n.onChangeText=function(e){n.setState(function(t){return{note:Yt({},t.note,{text:e})}})},n.onChangeTitle=function(e){n.setState(function(t){return{note:Yt({},t.note,{title:e})}})},n.setData=function(e){var t=""===n.state.note.title&&""===n.state.note.text;n.props.setData(Yt({},e,{isEmptyFields:t})),t||n.props.updateNote(n.props.note.id,Yt({},n.state.note,{time:+new Date}))},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=o.a.createElement("div",{className:Xt.a.note},o.a.createElement("div",{className:Xt.a.main},this.props.note.title&&o.a.createElement("div",{className:Xt.a.title},this.props.note.title),this.props.note.text&&o.a.createElement("div",{className:Xt.a.text},this.props.note.text)));return o.a.createElement(zt,{note:this.props.note,previewContent:e,modalIsOpen:this.props.modalIsOpen,modal:this.props.modal,setData:this.setData},o.a.createElement(Ie,{value:this.props.note.title,getTitle:this.onChangeTitle,textareaClass:Xt.a.modalTitle}),o.a.createElement(Xe,{value:this.props.note.text,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",getText:this.onChangeText}))}}]),t}(a.Component),Gt=n(107),Jt=n.n(Gt);function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var en=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={modalIsOpen:!1,note:{lists:n.props.note.lists}},n.onChangeTitle=function(e){n.setState(function(t){return{note:$t({},t.note,{title:e})}})},n.returningItems=function(e){n.setState({note:$t({},n.state.note,{lists:e})})},n.setData=function(e){var t=0===n.state.note.lists.length;n.props.setData($t({},e,{isEmptyFields:t})),t||n.props.updateNote(n.props.note.id,$t({},n.state.note,{time:+new Date}))},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=o.a.createElement("div",null,this.props.note.title&&o.a.createElement("div",{className:Jt.a.title},this.props.note.title),this.props.note.lists&&o.a.createElement("div",{className:Jt.a.lists},o.a.createElement(et,{items:this.props.note.lists,viewMode:"only-view"})));return o.a.createElement(zt,{note:this.props.note,previewContent:e,modalIsOpen:this.props.modalIsOpen,modal:this.props.modal,setData:this.setData},o.a.createElement(Ie,{value:this.props.note.title,getTitle:this.onChangeTitle,textareaClass:Jt.a.modalTitle}),o.a.createElement(lt,{returningItems:this.returningItems,lists:this.state.note.lists}))}}]),t}(a.Component),tn=n(258),nn=n.n(tn),an=n(108),on=n.n(an),rn=function(e){var t=e.classes?e.classes.map(function(e){return on.a[e]}):[];return o.a.createElement("div",{className:on.a.spinner},o.a.createElement("img",{className:ee()(on.a.spinnerImg,t),src:nn.a,alt:""}))},cn=n(164),sn=n.n(cn),ln=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={loader:!0,height:null},n.calcHeight=function(){var e=n.props.note,t=e.imgHeight,a=e.imgWidth,o=n.props.width*(t/a);n.setState({height:o})},n.onLoad=function(e){n.props.onLoad(!1),n.setState({loader:!1})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad(this.state.loader),this.calcHeight()}},{key:"componentDidUpdate",value:function(e){this.props.note.imgHeight!==e.note.imgHeight&&this.calcHeight(),this.props.width!==e.width&&this.calcHeight()}},{key:"render",value:function(){return o.a.createElement("div",{className:sn.a.imgBox,style:{height:this.state.height}},this.props.note.url&&o.a.createElement("img",Object(h.a)({className:"img-fluid",src:this.props.note.url,onLoad:this.onLoad,onError:this.onError},"className",sn.a.img)),o.a.createElement(rn,{classes:["small"]}))}}]),t}(a.Component),un=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).box=o.a.createRef(),n.state={boxWidth:null},n.updateDimensions=function(){n.box&&n.setState({boxWidth:n.box.current.offsetWidth})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.setState({boxWidth:this.box.current.offsetWidth}),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"componentWillUnmount",value:function(){this.box=null,window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){return o.a.createElement("div",{className:"img-height-loader",ref:this.box},this.props.note.imgHeight&&o.a.createElement(ln,{note:this.props.note,width:this.state.boxWidth,onLoad:this.props.onLoad}))}}]),t}(a.Component),pn=n(22),mn=n.n(pn),dn=function(e){var t=e.note,n=e.notes,a=e.modal,r=e.setData,i=e.updateNote,c=(e.onClickMark,e.onClickFixMark),s=e.onLoad,l=e.mark,u=e.modalIsOpen,p=e.currentColor,m=e.loader,d=e.getColor,f=e.addImage,h=e.cloneNote,v=e.deleteNote,g="relative",b=null,_=[{name:"color",currentColor:p,getColor:function(e){return d(e)}},{name:"addImg",addImg:function(e){return f(e)}},{name:"delNote",onClickDelNoteBtn:function(){return v(t,n)}},{name:"createClone",onClickCreateCloneBtn:function(){return h()}}];return t.imgHeight?g="absolute":b=mn.a.paddingTop,t.text||t.title||t.lists?(g="relative",b=mn.a.paddingTop):g="absolute",t.imgHeight&&(t.text||t.title||t.lists)&&(b=mn.a.paddingTop),o.a.createElement("div",{className:ee()(mn.a.notePreview,l&&mn.a.activeNote,u&&mn.a.openModal,m&&mn.a.loader),style:{backgroundColor:t.bgColor},onClick:function(){return a(!0)}},o.a.createElement("div",{className:mn.a.notePreviewWrap},o.a.createElement(un,{note:t,onLoad:s}),o.a.createElement("div",{className:mn.a.fixMark},o.a.createElement(he,{check:t.fixMark,onClick:c})),o.a.createElement("div",{className:ee()(mn.a.main,b)},function(){var e={note:t,modal:a,modalIsOpen:u,setData:r,updateNote:i};switch(t.type){case"note":return o.a.createElement(Qt,e);case"list":return o.a.createElement(en,e);default:return o.a.createElement("div",null,"no note")}}())),o.a.createElement("div",{className:ee()(mn.a.NoteBottomPanel,mn.a[g])},o.a.createElement(be,{panels:_})))},fn=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={currentColor:n.props.note.bgColor,modalIsOpen:!1,loader:!0},n.cloneNote=function(){var e=Object(Z.a)({},n.props.note);delete e.id,n.props.addNote(e)},n.addImage=function(e){var t=e.files[0],a=n.props,o=a.note,r=a.replaceImage,i=a.addStartImage;return o.imgHeight?r(o,e):i(e,o,t)},n.setData=function(e){switch(e.input){case"delImg":e.isEmptyFields?n.props.deleteNote(n.props.note,n.props.notes):(n.props.delImg(n.props.note),n.props.updateNote(n.props.note.id,{imgHeight:null,imgWidth:null}));break;case"replaceImage":n.addImage(e.inputTarget)}},n.getColor=function(e){n.setState({currentColor:e}),n.props.updateNote(n.props.note.id,{bgColor:e})},n.modal=function(e){return n.setState({modalIsOpen:e})},n.onLoad=function(e){return n.setState({loader:e})},n.onClickFixMark=function(){var e=n.props,t=e.updateNote,a=e.note;t(a.id,{fixMark:!a.fixMark})},n}return Object(E.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.note.imgHeight||this.setState({loader:!1})}},{key:"render",value:function(){var e=this.props,t=e.note,n=e.notes,a=e.deleteNote,r=e.updateNote,i=this.state,c=(i.mark,i.modalIsOpen),s=i.currentColor,l=i.loader;return o.a.createElement(dn,{note:t,notes:n,deleteNote:a,modalIsOpen:c,currentColor:s,updateNote:r,getColor:this.getColor,addImage:this.addImage,cloneNote:this.cloneNote,loader:l,modal:this.modal,onLoad:this.onLoad,setData:this.setData,onClickFixMark:this.onClickFixMark})}}]),t}(a.Component),hn={delImg:U,addImage:W,updateNote:V,addMarkNote:L,addNote:R,deleteNote:H,replaceImage:function(e,t){return function(){var n=Object(I.a)(N.a.mark(function n(a){var o,r,i;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(U(e));case 2:return n.next=4,P(t);case 4:o=n.sent,r=o.imgWidth,i=o.imgHeight,a(V(e.id,{imgWidth:r,imgHeight:i})),a(W(t.files[0],e.id));case 9:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},addStartImage:function(e,t,n){return function(){var a=Object(I.a)(N.a.mark(function a(o){var r,i,c;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P(e);case 2:r=a.sent,i=r.imgWidth,c=r.imgHeight,o(V(t.id,{imgWidth:i,imgHeight:c})),o(W(n,t.id));case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},vn=Object(s.d)(Object(c.b)(function(e){return{notes:K(e)}},hn),Object(p.firestoreConnect)([{collection:"notes"}]))(fn),gn=rn,bn=function(e,t){return e.time>t.time?-1:e.time==t.time?0:e.time<t.time?1:void 0},_n=n(28),On=n.n(_n),kn=function(e){var t={transitionDuration:0},n={background:".my-bg-image-el"},a=e.notes,r=[],i=[],c=function(e){return o.a.createElement(St.a,{className:ee()(On.a.npWrap,""),options:t,disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:n,onLayoutComplete:function(e){}},e)};if(a){var s=Object(Ye.a)(a).slice(0);s.sort(bn);var l=function(e){return o.a.createElement(vn,{key:e.id,note:e})};r=s.filter(function(e){return!e.fixMark}).map(l),i=s.filter(function(e){return e.fixMark}).map(l)}return o.a.createElement("div",{className:On.a.allNotes},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:ee()(On.a.main,On.a.notesList)},void 0===a&&o.a.createElement(gn,{classes:["big"]}),void 0!==a&&(0!==a.length?o.a.createElement(o.a.Fragment,null,0!==i.length&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:On.a.fixNotesBox},o.a.createElement("div",{className:On.a.notesListTitle},"\u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),c(i))),0!==i.length&&0!==r.length&&o.a.createElement("div",{className:On.a.notesListTitle},"\u0414\u0440\u0443\u0433\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),0!==r.length&&c(r)):o.a.createElement("div",{className:On.a.emptyNotesBox},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043c\u0435\u0442\u043e\u043a \u043f\u0443\u0441\u0442...")))))},xn=Object(s.d)(Object(c.b)(function(e){return{notes:K(e)}},null),Object(p.firestoreConnect)([{collection:"notes"}]))(kn),jn=n(165),yn=n.n(jn),En=function(){return o.a.createElement(C,null,o.a.createElement("div",{className:yn.a.app},o.a.createElement(ye,null),o.a.createElement("div",{className:yn.a.main},o.a.createElement(Dt,null),o.a.createElement(xn,null))))};n(492);Lt.a.setAppElement("#root");var Cn=Object(s.e)(O,Object(s.d)(Object(s.a)(l.a.withExtraArgument({getFirebase:p.getFirebase,getFirestore:u.getFirestore,storage:f})),Object(p.reactReduxFirebase)(d.a),Object(u.reduxFirestore)(d.a)));i.a.render(o.a.createElement(c.a,{store:Cn},o.a.createElement(En,null)),document.getElementById("root"))},54:function(e,t,n){e.exports={bottomPanel:"note-panel-view_bottomPanel__29KVY",bottomPanelBox:"note-panel-view_bottomPanelBox__1rYJA",fixMark:"note-panel-view_fixMark__2gpvP",img:"note-panel-view_img__3FAgV",deleteIcon:"note-panel-view_deleteIcon__3MsXU",pictureBox:"note-panel-view_pictureBox__3p5bR",picturePreview:"note-panel-view_picturePreview__2pPmS",title:"note-panel-view_title__xeoI8",noteBottom:"note-panel-view_noteBottom__czL6B"}},55:function(e,t,n){e.exports={icon:"default-panel_icon__2F9Sf",imgIcon:"default-panel_imgIcon__r8BZi",listIcon:"default-panel_listIcon__3EB_U",textarea:"default-panel_textarea__q9SVX"}},56:function(e,t,n){e.exports={img:"simple-note-preview_img__3UylK",bottomPanelBox:"simple-note-preview_bottomPanelBox__1qXqN",bottomPanel:"simple-note-preview_bottomPanel__222qF",noteWrap:"simple-note-preview_noteWrap__1LOSl",date:"simple-note-preview_date__gxGPL",fixMark:"simple-note-preview_fixMark__Iui8j",icon:"simple-note-preview_icon__25tfi",imageBox:"simple-note-preview_imageBox__3BcK2",title:"simple-note-preview_title__1FAu-",text:"simple-note-preview_text__1k0HK",modalTitle:"simple-note-preview_modalTitle__21gWi"}},75:function(e,t,n){e.exports={headerNotice:"header-marks_headerNotice__2aAUz",noticeContainer:"header-marks_noticeContainer__2Gyb_",headerNoticeMain:"header-marks_headerNoticeMain__2ryny",noticeTitle:"header-marks_noticeTitle__3uYCQ"}}},[[259,1,2]]]);
//# sourceMappingURL=main.9a10683f.chunk.js.map